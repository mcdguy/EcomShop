{"version":3,"sources":["components/product/index.js","pages/Shop/index.js","components/error/index.js","utils/formatPrice.js"],"names":["Product","img","name","price","stock","_id","productRef","useRef","useEffect","IntersectionObserver","entries","productObserver","forEach","entry","isIntersecting","current","classList","toggle","disconnect","threshold","observe","to","ref","className","src","alt","formatPrice","Shop","useGlobalContext","products","productError","productLoading","filterName","setFilterName","useState","showFilters","setShowFilters","filteredProducts","setFilteredProducts","setFilter","newProducts","filter","product","category","featured","length","onClick","e","stopPropagation","map","Error","number","Intl","NumberFormat","style","currency","format","replace"],"mappings":"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","file":"static/js/8.25b080b3.chunk.js","sourcesContent":["import React,{useEffect,useRef} from 'react'\r\nimport './product.css';\r\nimport { Link } from 'react-router-dom';\r\nimport {formatPrice} from '../../utils/formatPrice';\r\n\r\nconst Product = ({img,name,price,stock,_id}) => {\r\n    const productRef = useRef(null);\r\n    useEffect(()=>{\r\n        const productObserver = new IntersectionObserver((entries,productObserver)=>{\r\n            entries.forEach(entry=>{\r\n                if(entry.isIntersecting){\r\n                    productRef.current.classList.toggle('visible');\r\n                    productObserver.disconnect();\r\n                }\r\n            })\r\n        },{threshold: 0.2})\r\n        productObserver.observe(productRef.current);\r\n    },[])\r\n    \r\n    return (\r\n        <Link to={`/shop/${_id}`} ref={productRef} className=\"product\">\r\n            <article className=\"product__content\">\r\n                <div className=\"product__img__container\">\r\n                    <img className=\"product__img\" src={`https://sbcoffeecompany.herokuapp.com/${img[0]}`} alt={name}/>\r\n                    {!stock?<div className=\"product__outofstock\"><p>out of stock</p></div>:null}\r\n                </div>\r\n                <div className=\"product__info\">\r\n                    <h1 className=\"product__name\">{name}</h1>\r\n                    <h2 className=\"product__price\">PRICE: {formatPrice(price)}</h2>\r\n                </div>\r\n            </article>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React,{useState,useEffect} from 'react';\r\nimport { useGlobalContext } from '../../context';\r\nimport './shop.css';\r\nimport Product from '../../components/product';\r\nimport {AiFillFilter} from \"react-icons/ai\";\r\nimport Loader from '../../components/loader';\r\nimport Error from '../../components/error';\r\nimport Footer from '../../components/footer';\r\n\r\nconst Shop = () => {\r\n    const {products,productError,productLoading,filterName,setFilterName} = useGlobalContext();\r\n    const [showFilters,setShowFilters] = useState(false);\r\n    const [filteredProducts,setFilteredProducts] = useState(false);\r\n    const setFilter = (name) =>{\r\n        setFilterName(name);\r\n        setShowFilters(false);\r\n    }\r\n    useEffect(()=>{\r\n        if(filterName === 'none'){\r\n            setFilteredProducts(products);\r\n            return;\r\n        }\r\n        if(filterName === 'featured'){\r\n            let newProducts = products.filter(product =>product.featured === true);\r\n            setFilteredProducts(newProducts);\r\n            return;\r\n        }\r\n        let newProducts = products.filter(product =>product.category === filterName);\r\n        setFilteredProducts(newProducts);\r\n\r\n    },[filterName,products])\r\n\r\n    if(productLoading){\r\n        return <Loader/>\r\n    }\r\n    if(productError){\r\n        return <Error/>\r\n    }\r\n    return (\r\n        <>\r\n            {filteredProducts.length?\r\n                <div className=\"shop\" onClick={()=>setShowFilters(false)}>\r\n                    <div className=\"shop__filter center\">\r\n                        <span className={`${filterName==='none'?'shop__filter__indicator':'shop__filter__indicator show'}`}></span>\r\n                        <span className=\"filter__icon button__effect\" onClick={(e)=>{e.stopPropagation();setShowFilters(!showFilters)}}><AiFillFilter/></span>\r\n                        <div className={`${showFilters?'filter__options show': 'filter__options'}`}>\r\n                            <span onClick={()=>setFilter('none')}>none</span>\r\n                            <span className={`${filterName==='featured'?'active':null}`} onClick={()=>setFilter('featured')}>featured</span>\r\n                            <span className={`${filterName==='coffee'?'active':null}`} onClick={()=>setFilter('coffee')}>coffee</span>\r\n                            <span className={`${filterName==='brewing equipment'?'active':null}`} onClick={()=>setFilter('brewing equipment')}>brewing equipment</span>\r\n                            <span className={`${filterName==='accompaniment'?'active':null}`} onClick={()=>setFilter('accompaniment')}>accompaniment</span>\r\n                        </div>\r\n                        <div className=\"filter__click__handler\"></div>\r\n                    </div>\r\n                    <div className=\"shop__center center\">\r\n                        {filteredProducts.map(product=>{\r\n                            return <Product key={product._id} {...product}></Product>\r\n                        })}\r\n                    </div>\r\n                    <Footer/>\r\n                </div>\r\n            :   <div className=\"shop-empty\">\r\n                    <div className=\"shop__empty__center center\">\r\n                        There are no items to display\r\n                    </div>\r\n                    <Footer/>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Shop\r\n","import React from 'react';\r\nimport './error.css';\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"fetch__error\">\r\n            <h1>an error occurred</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","export const formatPrice = (number) =>{\r\n    const newNumber = Intl.NumberFormat('en-IN',{\r\n        style: 'currency',\r\n        currency: 'INR'\r\n    }).format(number/100).replace(/\\.00$/,'');\r\n    return newNumber;\r\n}"],"sourceRoot":""}