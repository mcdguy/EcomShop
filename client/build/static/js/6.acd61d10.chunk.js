(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{110:function(e,s,t){},111:function(e,s,t){},127:function(e,s,t){"use strict";t.r(s);var c=t(15),a=t(3),d=t(4),r=t(2),n=t(22),i=t(9),l=(t(110),t(5)),j=t.n(l),_=(t(111),t(7)),b=t(29),o=t(1),h=function(){var e=Object(i.b)().isLoggedIn,s=Object(r.useState)([]),t=Object(d.a)(s,2),c=t[0],a=t[1],n=Object(r.useState)(!0),l=Object(d.a)(n,2),h=l[0],O=l[1];return Object(r.useEffect)((function(){O(!0),e&&j.a.get("/user/orders").then((function(e){e.data.orders&&(a(e.data.orders),O(!1))}))}),[e]),h?Object(o.jsx)("div",{className:"order__loader",children:Object(o.jsx)("div",{className:"loader__spinner"})}):c.length?Object(o.jsx)("div",{className:"orders",children:c.map((function(e){return Object(o.jsxs)("div",{className:"single__order",children:[Object(o.jsxs)("h1",{children:[" ",Object(o.jsx)("span",{children:"order id :"})," ",e.orderId]}),Object(o.jsxs)("h1",{children:[" ",Object(o.jsx)("span",{children:"total : "})," ",Object(b.a)(e.amount)]}),e.order.map((function(e,s){return Object(o.jsxs)("div",{className:"order__item",children:[Object(o.jsx)(_.b,{to:"/shop/".concat(e.itemId),children:Object(o.jsx)("img",{src:"https://sbcoffeecompany.herokuapp.com/".concat(e.img),alt:""})}),Object(o.jsx)("span",{children:e.name}),Object(o.jsx)("span",{children:Object(b.a)(e.price)}),Object(o.jsx)("span",{children:e.pqty})]},s)}))]},e.orderId)}))}):Object(o.jsx)("p",{className:"no__orders center",children:"All your orders will be displayed here"})},O=t(21),u=t(30),x=t(17);s.default=function(){var e=Object(n.b)(),s=e.address,t=e.setAddress,l=e.saveAddress,j=e.error,_=e.setError,b=e.editMode,m=e.setEditMode,p=e.isLoading,v=e.loadingError,N=Object(i.b)().isLoggedIn,f=Object(r.useRef)(null),y=Object(r.useRef)(null),g=Object(r.useRef)(null),L=Object(r.useRef)(null),F=Object(r.useRef)(null),C=Object(r.useState)(!1),k=Object(d.a)(C,2),w=k[0],I=k[1],R=function(e){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})})),t(Object(a.a)(Object(a.a)({},s),{},Object(c.a)({},e.target.name,e.target.value)))},V=function(){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})}))};return N?p?Object(o.jsx)(O.a,{}):v?Object(o.jsx)(u.a,{}):s.exists?Object(o.jsxs)("div",{className:"account",children:[Object(o.jsxs)("div",{className:"address__center center",children:[Object(o.jsx)("div",{className:"address__header",children:s.email&&Object(o.jsxs)("p",{children:[" ",s.email]})}),Object(o.jsxs)("div",{className:"address__details",children:[b?Object(o.jsx)("div",{className:"account__address__edit",children:Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"addressLine",children:"street line: "}),Object(o.jsx)("input",{className:"address__input",ref:F,onFocus:V,type:"text",defaultValue:s.addressLine,name:"addressLine",placeholder:"street address"}),Object(o.jsx)("div",{className:"address__input__error",children:j.addressLine})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"state",children:"state: "}),Object(o.jsx)("input",{ref:f,onFocus:V,defaultValue:s.state,name:"state",type:"text",placeholder:"state"}),Object(o.jsx)("div",{className:"address__input__error",children:j.state})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"city",children:"city: "}),Object(o.jsx)("input",{ref:y,onFocus:V,defaultValue:s.city,name:"city",type:"text",placeholder:"city"}),Object(o.jsx)("div",{className:"address__input__error",children:j.city})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"pin",children:"pin: "}),Object(o.jsx)("input",{ref:g,onFocus:V,defaultValue:s.pin,name:"pin",type:"number",placeholder:"pin"}),Object(o.jsx)("div",{className:"address__input__error",children:j.pin})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"contact",children:"contact: "}),Object(o.jsx)("input",{ref:L,onFocus:V,defaultValue:s.contact,name:"contact",type:"number",placeholder:"contact"}),Object(o.jsx)("div",{className:"address__input__error",children:j.contact})]})]})}):Object(o.jsxs)("div",{className:"account__address__text",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"street line: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.addressLine})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"state: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.state})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"city: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.city})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"pin: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.pin})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"contact: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.contact})]})]}),Object(o.jsx)("div",{children:b?Object(o.jsxs)("div",{className:"edit__address__wrapper",children:[Object(o.jsx)("button",{className:"cancel__edit__btn btn__general",onClick:function(){return m(!1)},children:"cancel"}),Object(o.jsx)("button",{className:"save__edit__btn btn__general",onClick:function(){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})})),l({addressLine:F.current.value,state:f.current.value,city:y.current.value,pin:g.current.value,contact:L.current.value})},children:"save"})]}):Object(o.jsx)("div",{className:"edit__address__wrapper",children:Object(o.jsx)("button",{className:"edit__address__btn btn__general",onClick:function(){return m(!0)},children:"edit"})})})]}),Object(o.jsx)("h1",{className:"order__head",children:"previous orders"}),Object(o.jsx)(h,{})]}),Object(o.jsx)(x.a,{})]}):Object(o.jsxs)("div",{className:"address__save",children:[Object(o.jsxs)("div",{className:"address__center center",children:[Object(o.jsx)("div",{className:"address__header",children:s.email&&Object(o.jsxs)("p",{children:[" ",s.email]})}),w?null:Object(o.jsxs)("div",{className:"save__address__prompt",children:[Object(o.jsx)("span",{children:"you have no saved addresses"}),Object(o.jsx)("button",{className:"btn__general",onClick:function(){return I(!0)},children:"add address"})]}),w?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{className:"address__form",children:[Object(o.jsx)("input",{type:"text",value:s.addressLine,onChange:R,name:"addressLine",placeholder:"street address"}),Object(o.jsx)("div",{className:"address__input__error",children:j.addressLine}),Object(o.jsxs)("div",{className:"address__form__row",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{value:s.state,onChange:R,name:"state",type:"text",placeholder:"state"}),Object(o.jsx)("div",{className:"address__input__error",children:j.state})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{value:s.city,onChange:R,name:"city",type:"text",placeholder:"city"}),Object(o.jsx)("div",{className:"address__input__error",children:j.city})]})]}),Object(o.jsx)("input",{value:s.pin,onChange:R,name:"pin",type:"number",placeholder:"pin"}),Object(o.jsx)("div",{className:"address__input__error",children:j.pin}),Object(o.jsx)("input",{value:s.contact,onChange:R,name:"contact",type:"number",placeholder:"contact"}),Object(o.jsx)("div",{className:"address__input__error",children:j.contact}),Object(o.jsx)("div",{className:"btn-wrapper",children:Object(o.jsx)("span",{className:"btn__general",onClick:function(e){e.preventDefault(),l(s)},children:"save address"})})]})}):null,Object(o.jsx)("h1",{className:"order__head",children:"previous orders"}),Object(o.jsx)(h,{})]}),Object(o.jsx)(x.a,{})]}):Object(o.jsx)("div",{className:"account__notLogged",children:"You must log in first"})}}}]);
//# sourceMappingURL=6.acd61d10.chunk.js.map