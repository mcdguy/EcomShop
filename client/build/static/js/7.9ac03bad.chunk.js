(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{109:function(e,s,t){},110:function(e,s,t){},126:function(e,s,t){"use strict";t.r(s);var c=t(14),a=t(3),d=t(4),r=t(2),n=t(21),i=t(9),l=(t(109),t(5)),j=t.n(l),_=(t(110),t(6)),b=t(29),o=t(1),h=function(){var e=Object(i.b)().isLoggedIn,s=Object(r.useState)([]),t=Object(d.a)(s,2),c=t[0],a=t[1],n=Object(r.useState)(!0),l=Object(d.a)(n,2),h=l[0],u=l[1];return Object(r.useEffect)((function(){u(!0),e&&j.a.get("/user/orders").then((function(e){e.data.orders&&(a(e.data.orders),u(!1))}))}),[e]),h?Object(o.jsx)("div",{className:"order__loader",children:Object(o.jsx)("div",{className:"loader__spinner"})}):c.length?Object(o.jsx)("div",{className:"orders",children:c.map((function(e){return Object(o.jsxs)("div",{className:"single__order",children:[Object(o.jsxs)("h1",{children:[" ",Object(o.jsx)("span",{children:"order id :"})," ",e.orderId]}),Object(o.jsxs)("h1",{children:[" ",Object(o.jsx)("span",{children:"total : "})," ",Object(b.a)(e.amount)]}),e.order.map((function(e,s){return Object(o.jsxs)(_.b,{to:"/shop/".concat(e.itemId),className:"order__item",children:[Object(o.jsx)("img",{src:"https://sbcoffeecompany.herokuapp.com/".concat(e.img),alt:""}),Object(o.jsx)("span",{children:e.name}),Object(o.jsx)("span",{children:Object(b.a)(e.price)}),Object(o.jsx)("span",{children:e.pqty})]},s)}))]},e.orderId)}))}):Object(o.jsx)("p",{className:"no__orders center",children:"All your orders will be displayed here"})},u=t(30),O=t(88);s.default=function(){var e=Object(n.b)(),s=e.address,t=e.setAddress,l=e.saveAddress,j=e.error,_=e.setError,b=e.editMode,x=e.setEditMode,m=e.isLoading,p=e.loadingError,v=Object(i.b)().isLoggedIn,N=Object(r.useRef)(null),f=Object(r.useRef)(null),y=Object(r.useRef)(null),g=Object(r.useRef)(null),L=Object(r.useRef)(null),F=Object(r.useState)(!1),C=Object(d.a)(F,2),k=C[0],w=C[1],I=function(e){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})})),t(Object(a.a)(Object(a.a)({},s),{},Object(c.a)({},e.target.name,e.target.value)))},R=function(){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})}))};return v?m?Object(o.jsx)(u.a,{}):p?Object(o.jsx)(O.a,{}):s.exists?Object(o.jsx)("div",{className:"account",children:Object(o.jsxs)("div",{className:"address__center center",children:[Object(o.jsx)("div",{className:"address__header",children:s.email&&Object(o.jsxs)("p",{children:[" ",s.email]})}),Object(o.jsxs)("div",{className:"address__details",children:[b?Object(o.jsx)("div",{className:"account__address__edit",children:Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"addressLine",children:"street line: "}),Object(o.jsx)("input",{className:"address__input",ref:L,onFocus:R,type:"text",defaultValue:s.addressLine,name:"addressLine",placeholder:"street address"}),Object(o.jsx)("div",{className:"address__input__error",children:j.addressLine})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"state",children:"state: "}),Object(o.jsx)("input",{ref:N,onFocus:R,defaultValue:s.state,name:"state",type:"text",placeholder:"state"}),Object(o.jsx)("div",{className:"address__input__error",children:j.state})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"city",children:"city: "}),Object(o.jsx)("input",{ref:f,onFocus:R,defaultValue:s.city,name:"city",type:"text",placeholder:"city"}),Object(o.jsx)("div",{className:"address__input__error",children:j.city})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"pin",children:"pin: "}),Object(o.jsx)("input",{ref:y,onFocus:R,defaultValue:s.pin,name:"pin",type:"number",placeholder:"pin"}),Object(o.jsx)("div",{className:"address__input__error",children:j.pin})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"address__text__head",htmlFor:"contact",children:"contact: "}),Object(o.jsx)("input",{ref:g,onFocus:R,defaultValue:s.contact,name:"contact",type:"number",placeholder:"contact"}),Object(o.jsx)("div",{className:"address__input__error",children:j.contact})]})]})}):Object(o.jsxs)("div",{className:"account__address__text",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"street line: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.addressLine})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"state: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.state})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"city: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.city})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"pin: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.pin})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"address__text__head",children:"contact: "}),Object(o.jsx)("div",{className:"address__text__desc",children:s.contact})]})]}),Object(o.jsx)("div",{children:b?Object(o.jsxs)("div",{className:"edit__address__wrapper",children:[Object(o.jsx)("button",{className:"cancel__edit__btn btn__general",onClick:function(){return x(!1)},children:"cancel"}),Object(o.jsx)("button",{className:"save__edit__btn btn__general",onClick:function(){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})})),l({addressLine:L.current.value,state:N.current.value,city:f.current.value,pin:y.current.value,contact:g.current.value})},children:"save"})]}):Object(o.jsx)("div",{className:"edit__address__wrapper",children:Object(o.jsx)("button",{className:"edit__address__btn btn__general",onClick:function(){return x(!0)},children:"edit"})})})]}),Object(o.jsx)("h1",{className:"order__head",children:"previous orders"}),Object(o.jsx)(h,{})]})}):Object(o.jsx)("div",{className:"address__save",children:Object(o.jsxs)("div",{className:"address__center center",children:[Object(o.jsx)("div",{className:"address__header",children:s.email&&Object(o.jsxs)("p",{children:[" ",s.email]})}),k?null:Object(o.jsxs)("div",{className:"save__address__prompt",children:[Object(o.jsx)("span",{children:"you have no saved addresses"}),Object(o.jsx)("button",{className:"btn__general",onClick:function(){return w(!0)},children:"add address"})]}),k?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{className:"address__form",children:[Object(o.jsx)("input",{type:"text",value:s.addressLine,onChange:I,name:"addressLine",placeholder:"street address"}),Object(o.jsx)("div",{className:"address__input__error",children:j.addressLine}),Object(o.jsxs)("div",{className:"address__form__row",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{value:s.state,onChange:I,name:"state",type:"text",placeholder:"state"}),Object(o.jsx)("div",{className:"address__input__error",children:j.state})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{value:s.city,onChange:I,name:"city",type:"text",placeholder:"city"}),Object(o.jsx)("div",{className:"address__input__error",children:j.city})]})]}),Object(o.jsx)("input",{value:s.pin,onChange:I,name:"pin",type:"number",placeholder:"pin"}),Object(o.jsx)("div",{className:"address__input__error",children:j.pin}),Object(o.jsx)("input",{value:s.contact,onChange:I,name:"contact",type:"number",placeholder:"contact"}),Object(o.jsx)("div",{className:"address__input__error",children:j.contact}),Object(o.jsx)("div",{className:"btn-wrapper",children:Object(o.jsx)("span",{className:"btn__general",onClick:function(e){e.preventDefault(),l(s)},children:"save address"})})]})}):null,Object(o.jsx)("h1",{className:"order__head",children:"previous orders"}),Object(o.jsx)(h,{})]})}):Object(o.jsx)("div",{className:"account__notLogged",children:"You must log in first"})}},88:function(e,s,t){"use strict";t(2),t(89);var c=t(1);s.a=function(){return Object(c.jsx)("div",{className:"fetch__error",children:Object(c.jsx)("h1",{children:"an error occurred"})})}},89:function(e,s,t){}}]);
//# sourceMappingURL=7.9ac03bad.chunk.js.map