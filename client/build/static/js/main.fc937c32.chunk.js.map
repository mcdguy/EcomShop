{"version":3,"sources":["assets/images/store1.jpg","data.js","assets/images/store2.jpg","assets/images/store4.jpg","assets/images/store5.jpg","assets/images/store6.jpg","cartContext.js","addressContext.js","utils/formatPrice.js","components/loader/index.js","utils/handleBillingError.js","utils/handleShippingError.js","utils/handleUserError.js","checkoutContext.js","components/product/index.js","components/footer/index.js","pages/Navbar/index.js","assets/images/logo.png","pages/Home/index.js","assets/images/facebook.png","assets/images/gmail.png","assets/images/instagram.png","components/login/index.js","pages/Error/index.js","components/scrollToTop/index.js","App.js","index.js","context.js"],"names":["stores","state","CartContext","React","createContext","CartProvider","children","useGlobalContext","cart","products","useState","cartProducts","setCartProducts","cartTotalItems","setCartTotalItems","cartTotalAmount","setCartTotalAmount","couponCode","setCouponCode","couponError","setCouponError","discount","setDiscount","discountAmount","setDiscountAmount","useEffect","length","newCartProducts","map","item","newItem","productId","pqty","i","_id","stock","checked","filter","p","discountValue","totalAmount","totalItems","forEach","price","Provider","value","verifyCoupon","axios","post","code","then","res","data","success","nomatch","useCartContext","useContext","AddressContext","AddressProvider","isLoggedIn","addressLine","city","contact","pin","error","setError","email","username","exists","address","setAddress","editMode","setEditMode","isLoading","setIsLoading","loadingError","setLoadingError","get","catch","err","saveAddress","errors","console","log","useAddressContext","formatPrice","number","Intl","NumberFormat","style","currency","format","replace","Loader","className","handleBillingError","billingAddress","billingError","setBillingError","billingaddressLine","bAddressLine","billingstate","bState","billingcity","bCity","billingpin","bPin","billingcontact","bContact","toString","handleShippingError","shippingAddress","shippingError","setShippingError","shippingaddressLine","sAddressLine","shippingstate","sState","shippingcity","sCity","shippingpin","sPin","handleUserError","user","setUserError","name","userError","CheckoutContext","CheckoutProvider","getProducts","showShipping","setShowShipping","setUser","id","show","orderAlert","setOrderAlert","showAlert","setShowAlert","saveDetails","setSaveDetails","siad","localStorage","getItem","JSON","parse","getsiad","setShippingAddress","setBillingAddress","setItem","stringify","makePayment","a","succeed","mismatch","status","options","amount","response","order_id","payment_id","razorpay_payment_id","payment_sign","razorpay_signature","alert","delete","rzp1","window","Razorpay","open","on","handleShippingAddress","e","target","handleBillingAddress","showShippingAddress","hideShippingAddress","hideOrderAlert","OrderAlert","handleUserDetails","trim","toLowerCase","handleShippingState","handleBillingState","useCheckoutContext","Product","img","productRef","useRef","IntersectionObserver","entries","productObserver","entry","isIntersecting","current","classList","toggle","disconnect","threshold","observe","to","ref","src","alt","Footer","rel","href","Navbar","setFilterName","setLogout","setCart","setShowLoginModal","openMenu","setOpenMenu","onClick","Home","featuredProducts","productsRef","currentImage","setCurrentImage","sliderRef","msg","type","setAlert","subEmail","setSubEmail","sliderObserver","add","remove","x","setInterval","clearInterval","scrollLeft","product","store","index","slideClass","onChange","Login","setLogin","showLogin","setHideLoginModal","authType","setAuthType","setEmail","password","setPassword","setUsername","showForgot","setShowForgot","forgotMessage","setForgotMessage","spinnerRef","stopPropagation","onSubmit","preventDefault","replaceAll","autoComplete","placeholder","Error","withRouter","history","unlisten","listen","scrollTo","Gallery","lazy","Cart","About","Location","Checkout","SingleProduct","Account","Forgot","Shop","App","path","exact","fallback","defaults","baseURL","withCredentials","ReactDOM","render","StrictMode","document","getElementById","AppContext","reducer","oldState","action","payload","filterName","videos","productError","productLoading","galleryError","galleryLoading","defaultState","getLocalStorage","showLoginModal","AppProvider","useReducer","dispatch","setProducts","setProductLoading","setProductError","setGalleryLoading","setGalleryError","newCart","featured","addCartItem","alreadyExists","cartItem","updateCartItem","updatedCart","removeCartItem"],"mappings":"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","file":"static/js/main.fc937c32.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/store1.a0264694.jpg\";","import store1 from './assets/images/store1.jpg';\r\nimport store2 from './assets/images/store2.jpg';\r\nimport store4 from './assets/images/store4.jpg';\r\nimport store5 from './assets/images/store5.jpg';\r\nimport store6 from './assets/images/store6.jpg';\r\n\r\nexport const stores = [\r\n    store2,store4,store5,store6\r\n]\r\n\r\nexport const state = [ \"andhra pradesh\",\r\n    \"arunachal pradesh\",\r\n    \"assam\",\r\n    \"bihar\",\r\n    \"chhattisgarh\",\r\n    \"goa\",\r\n    \"gujarat\",\r\n    \"haryana\",\r\n    \"himachal pradesh\",\r\n    \"jammu and kashmir\",\r\n    \"jharkhand\",\r\n    \"karnataka\",\r\n    \"kerala\",\r\n    \"madhya pradesh\",\r\n    \"maharashtra\",\r\n    \"manipur\",\r\n    \"meghalaya\",\r\n    \"mizoram\",\r\n    \"nagaland\",\r\n    \"odisha\",\r\n    \"punjab\",\r\n    \"rajasthan\",\r\n    \"sikkim\",\r\n    \"tamil nadu\",\r\n    \"telangana\",\r\n    \"tripura\",\r\n    \"uttarakhand\",\r\n    \"uttar pradesh\",\r\n    \"west bengal\",\r\n    \"andaman and nicobar islands\",\r\n    \"chandigarh\",\r\n    \"dadra and nagar haveli\",\r\n    \"daman and diu\",\r\n    \"delhi\",\r\n    \"lakshadweep\",\r\n    \"puducherry\"\r\n]","export default __webpack_public_path__ + \"static/media/store2.f2f4c67c.jpg\";","export default __webpack_public_path__ + \"static/media/store4.3cbe8d45.jpg\";","export default __webpack_public_path__ + \"static/media/store5.ebfad1e0.jpg\";","export default __webpack_public_path__ + \"static/media/store6.0a902dcd.jpg\";","import React,{useState,useEffect,useContext} from 'react';\r\nimport axios from 'axios';\r\nimport { useGlobalContext } from './context';\r\nconst CartContext = React.createContext();\r\n\r\nexport const CartProvider = ({children})=>{\r\n    const {cart,products} = useGlobalContext();\r\n    const [cartProducts,setCartProducts] = useState([]);\r\n    const [cartTotalItems,setCartTotalItems] = useState(0)\r\n    const [cartTotalAmount,setCartTotalAmount] = useState(0);\r\n    const [couponCode,setCouponCode] = useState('');\r\n    const [couponError,setCouponError] = useState('');\r\n    const [discount,setDiscount] = useState(0);//this contains discount in percent\r\n    const [discountAmount,setDiscountAmount] = useState(0); //this contains discount in paise\r\n    const verifyCoupon = () =>{\r\n        axios.post('/coupon/check',{code: couponCode})\r\n            .then((res)=>{\r\n                if(res.data.success){\r\n                    setDiscount(res.data.discount);\r\n                }\r\n                if(res.data.nomatch){\r\n                    setDiscount(0);\r\n                    setCouponError('invalid coupon code');\r\n                }\r\n            })\r\n    }\r\n    \r\n\r\n    useEffect(()=>{\r\n        setCartProducts([]);\r\n        if(cart.length){//only run if cart has something\r\n            let newCartProducts= cart.map(item=>{\r\n                let newItem = null;//\r\n                const {productId,pqty} = item;\r\n                for(let i=0;i<products.length;i++){\r\n                    if(products[i]._id === productId){\r\n                        //remove item from cart products if stock is 0\r\n                        if(products[i].stock===0){\r\n                            return newItem;\r\n                        }\r\n                        newItem = {...products[i],pqty,checked:true};\r\n                        break;\r\n                    }\r\n                }\r\n                return newItem;\r\n            })\r\n\r\n            //remove all items that are null\r\n            newCartProducts = newCartProducts.filter(p=> p !== null);\r\n            setCartProducts(newCartProducts);\r\n        }\r\n    },[cart,products]);\r\n    \r\n    useEffect(()=>{\r\n        let totalAmount = 0;\r\n        let totalItems = 0;\r\n        let discountValue = 0;\r\n        cartProducts.forEach(item =>{\r\n            totalAmount += item.pqty * item.price;\r\n            totalItems +=item.pqty;\r\n        })\r\n        discountValue = totalAmount/100 * discount;\r\n        setDiscountAmount(discountValue)\r\n        setCartTotalAmount(totalAmount-discountValue);\r\n        setCartTotalItems(totalItems);\r\n    },[cartProducts,discount]);\r\n\r\n\r\n    return <CartContext.Provider value={{\r\n            cartProducts,\r\n            cartTotalItems,\r\n            cartTotalAmount,\r\n            couponCode,\r\n            setCouponCode,\r\n            verifyCoupon,\r\n            couponError,\r\n            discountAmount,\r\n            setCouponError,\r\n            discount,\r\n        }}>\r\n        {children}\r\n    </CartContext.Provider>\r\n}\r\n\r\nexport const useCartContext = () =>{\r\n    return useContext(CartContext);\r\n}","import React,{useState,useContext,useEffect} from 'react';\r\nimport { useGlobalContext } from './context';\r\nimport axios from 'axios';\r\n\r\nconst AddressContext = React.createContext();\r\nexport const AddressProvider = ({children}) =>{\r\n    const {isLoggedIn} = useGlobalContext();\r\n    const [error,setError] = useState({addressLine:'',state:'',city:'',contact:'',pin:''})\r\n    const [address,setAddress] = useState({email: '',username:'', exists:false, addressLine: '',state: '', city: '', contact: '', pin:''})\r\n    const [editMode,setEditMode] = useState(false);\r\n    const [isLoading,setIsLoading] = useState(true);\r\n    const [loadingError,setLoadingError] = useState(false);\r\n\r\n    //this function is also called by saveChanges\r\n    const saveAddress=({addressLine,state,city,pin,contact})=>{\r\n        axios.post('/user/account/address',{address:{addressLine,state,city,pin,contact}})\r\n            .then(res=>{\r\n                if(res.data.errors){\r\n                    setError({addressLine:res.data.errors.addressLine,state:res.data.errors.state,pin: res.data.errors.pin,city: res.data.errors.city,contact: res.data.errors.contact})\r\n                }else{\r\n                    if(res.data.success){\r\n                        setAddress(address => {return{...address,exists: true,addressLine,state,city,pin,contact}});\r\n\r\n                        //below statement is specifically for function called by saveChanges\r\n                        setEditMode(false);\r\n                    }\r\n                    \r\n                }\r\n            })\r\n            .catch(err=> console.log(err))\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setIsLoading(true);\r\n        setLoadingError(false);\r\n        \r\n        if(isLoggedIn){\r\n            axios.get('/user/account/address')\r\n                .then(res =>{\r\n                    if(res.data.error==='user not logged in'){\r\n                        setIsLoading(false);\r\n                        return;\r\n                    }\r\n                    if(res.data.success){\r\n                        setAddress({...address,username:res.data.username,email:res.data.email})\r\n                        //address may or may not be available\r\n                        if(!res.data.address){\r\n                            setAddress((address) => {return{...address,exists: false}})\r\n                        }else{\r\n                            const {city,state,pin,contact,addressLine} = res.data.address;\r\n                            setAddress(address=>{return({...address,exists: true,city,state,pin,contact,addressLine})});\r\n                        }\r\n                        setIsLoading(false);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    setLoadingError(true);\r\n                });\r\n        }else{\r\n            //when user logs out clearing up the state\r\n            setAddress({email: '',username:'', exists:false, addressLine: '',state: '', city: '', contact: '', pin:''});\r\n        }\r\n    },[isLoggedIn])\r\n\r\n    return <AddressContext.Provider value={{address,saveAddress,setAddress,error,setError,editMode,setEditMode,isLoading,loadingError}}>\r\n        {children}\r\n    </AddressContext.Provider>\r\n}\r\n\r\nexport const useAddressContext = () =>{\r\n    return useContext(AddressContext);\r\n}\r\n\r\n","export const formatPrice = (number) =>{\r\n    const newNumber = Intl.NumberFormat('en-IN',{\r\n        style: 'currency',\r\n        currency: 'INR'\r\n    }).format(number/100).replace(/\\.00$/,'');\r\n    return newNumber;\r\n}","import React from 'react';\r\nimport './loader.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"fetch__loader\">\r\n            <div className=\"loader__spinner\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","\r\nexport const handleBillingError=(billingAddress, billingError,setBillingError)=>{\r\n    if(billingAddress.billingaddressLine === ''){\r\n        setBillingError(billingError =>{return{...billingError,bAddressLine: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(billingAddress.billingstate === ''){\r\n        setBillingError(billingError =>{return{...billingError,bState: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(billingAddress.billingcity === ''){\r\n        setBillingError(billingError =>{return{...billingError,bCity: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(billingAddress.billingpin === ''){\r\n        setBillingError(billingError =>{return{...billingError,bPin: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(billingAddress.billingcontact === ''){\r\n        setBillingError(billingError =>{return{...billingError,bContact: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(billingAddress.billingpin.toString().length !== 6){\r\n        // console.log(billingAddress.billingpin);\r\n        setBillingError(billingError =>{return{...billingError,bPin: 'pin must be of 6 digits'}});\r\n        return false;\r\n    }\r\n    if(billingAddress.billingcontact.toString().length !== 10){\r\n        setBillingError(billingError =>{return{...billingError,bContact: 'please enter a valid number'}});\r\n        return false;\r\n    }\r\n    return true;\r\n}","// import { useCheckoutContext } from \"../checkoutContext\";\r\n// const {billingAddress, billingError,setBillingError} = useCheckoutContext();\r\n\r\nexport const handleShippingError = (shippingAddress,shippingError,setShippingError) =>{\r\n    if(shippingAddress.shippingaddressLine === ''){\r\n        setShippingError(shippingError =>{return{...shippingError,sAddressLine: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(shippingAddress.shippingstate === ''){\r\n        setShippingError(shippingError =>{return{...shippingError,sState: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(shippingAddress.shippingcity === ''){\r\n        setShippingError(shippingError =>{return{...shippingError,sCity: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(shippingAddress.shippingpin === ''){\r\n        setShippingError(shippingError =>{return{...shippingError,sPin: 'this field is required'}});\r\n        return false;\r\n    }\r\n    if(shippingAddress.shippingpin.toString().length !== 6){\r\n        setShippingError(shippingError =>{return{...shippingError,sPin: 'pin must be of 6 digits'}});\r\n        return false;\r\n    }\r\n    return true;\r\n}","export const handleUserError = (user,setUserError) =>{\r\n    if(user.name === ''){\r\n        setUserError(userError=>{return{...userError,name:'this field is required'}});\r\n        return false;\r\n    }\r\n    if(user.email === ''){\r\n        setUserError(userError=>{return{...userError,email:'this field is required'}});\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//return true if there is no error","import React,{useState,useEffect,useContext} from 'react';\r\nimport {useAddressContext} from './addressContext';\r\nimport {handleBillingError} from './utils/handleBillingError';\r\nimport {handleShippingError} from './utils/handleShippingError';\r\nimport axios from 'axios';\r\nimport { useCartContext } from './cartContext';\r\nimport { handleUserError } from './utils/handleUserError';\r\nimport { useGlobalContext } from './context';\r\n\r\nconst CheckoutContext = React.createContext();\r\n\r\n// getting shipping address from local storage\r\nconst getsiad = () =>{\r\n    let siad = localStorage.getItem('siad');\r\n    if(siad){\r\n        return JSON.parse(siad);\r\n    }else{\r\n        return {\r\n            shippingaddressLine:'',\r\n            shippingstate:'',\r\n            shippingcity:'',\r\n            shippingpin:'',\r\n        }\r\n    }\r\n}\r\n\r\nexport const CheckoutProvider = ({children}) =>{\r\n    const {address} = useAddressContext();\r\n    const {cartProducts,couponCode} = useCartContext();\r\n    const {getProducts} = useGlobalContext();\r\n    const [showShipping,setShowShipping] = useState(false);\r\n    const [user,setUser] = useState({name:'',email:''});\r\n    const [orderAlert,setOrderAlert] = useState({id:'',email:'',show:false});\r\n    const [userError,setUserError] = useState({name:'',email:''});\r\n    const [showAlert,setShowAlert] = useState(false);\r\n    const [saveDetails,setSaveDetails]  = useState(true);\r\n\r\n    const hideOrderAlert = () =>{\r\n        setOrderAlert(OrderAlert=>{return({...OrderAlert,show: false})});\r\n    }\r\n    const showShippingAddress = () =>{\r\n        setShowShipping(true);\r\n    }\r\n    const hideShippingAddress = () =>{\r\n        setShowShipping(false);\r\n    }\r\n\r\n    const [billingError,setBillingError] = useState({\r\n        bAddressLine:'',\r\n        bState:'',\r\n        bCity:'',\r\n        bPin:'',\r\n        bContact:'',\r\n    });\r\n\r\n    const [shippingAddress,setShippingAddress] = useState(getsiad());\r\n\r\n    const [shippingError,setShippingError] = useState({\r\n        sAddressLine:'',\r\n        sState:'',\r\n        sCity:'',\r\n        sPin:'',\r\n    });\r\n\r\n    \r\n\r\n    const [billingAddress,setBillingAddress] = useState({\r\n        billingaddressLine:'',\r\n        billingstate:'',\r\n        billingcity:'',\r\n        billingpin:'',\r\n        billingcontact:''\r\n    })\r\n\r\n    //this prepopulates the billing address\r\n    useEffect(()=>{\r\n        setUser(user=>{return{...user,name: address.username,email: address.email}});\r\n        setBillingAddress({\r\n            billingaddressLine:address.addressLine,\r\n            billingstate:address.state,\r\n            billingcity:address.city,\r\n            billingpin:address.pin,\r\n            billingcontact:address.contact})\r\n    },[address])//every time user changes address in 'account page' this will run\r\n\r\n\r\n    //setting shipping adddress in local storage\r\n    useEffect(()=>{\r\n        localStorage.setItem('siad',JSON.stringify(shippingAddress));\r\n    },[shippingAddress])\r\n   \r\n    //seperate function for setting shipping state since it's custom dropdown\r\n    const handleShippingState = (state) =>{\r\n        setShippingError(shippingError=>{return{...shippingError,sAddressLine:'',sState:'',sCity:'',sPin:'',}});\r\n        setShippingAddress(shippingAddress=>{\r\n            return({\r\n                ...shippingAddress,\r\n                shippingstate: state\r\n            })\r\n        })\r\n    }\r\n    const handleShippingAddress = (e) =>{\r\n        setShippingError(shippingError=>{return{...shippingError,sAddressLine:'',sState:'',sCity:'',sPin:'',}});\r\n        setShippingAddress(shippingAddress=>{\r\n            return({\r\n                ...shippingAddress,\r\n                [e.target.name]:e.target.value\r\n            })\r\n        })\r\n    }\r\n\r\n    //seperate function for setting biliing state since it's custom dropdown\r\n    const handleBillingState = (state) =>{\r\n        setBillingError(billingError=>{return{...billingError,bAddressLine:'',bState:'',bCity:'',bPin:'',bContact:''}});\r\n        setBillingAddress(billingAddress=>{\r\n            return({\r\n                ...billingAddress,\r\n                billingstate:state\r\n            })\r\n        })\r\n    }\r\n    const handleBillingAddress = (e) =>{\r\n        setBillingError(billingError=>{return{...billingError,bAddressLine:'',bState:'',bCity:'',bPin:'',bContact:''}});\r\n        setBillingAddress(billingAddress=>{\r\n            return({\r\n                ...billingAddress,\r\n                [e.target.name]:e.target.value\r\n            })\r\n        })\r\n    }\r\n    \r\n\r\n    const handleUserDetails = (e) =>{\r\n        setUserError(userError=>{return{...userError,name:'',email:''}});\r\n        setUser(user=>{\r\n            if(e.target.name==='email'){\r\n                return({\r\n                    ...user,\r\n                    [e.target.name]:e.target.value.trim().toLowerCase()//this trims whitespace and makes letter lowercase\r\n                })\r\n            }else{\r\n                return({\r\n                    ...user,\r\n                    [e.target.name]:e.target.value\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //making payment\r\n    const makePayment = async () =>{\r\n        //validating all fields\r\n        let succeed = false;\r\n        succeed = handleBillingError(billingAddress, billingError,setBillingError);\r\n        succeed= handleUserError(user,setUserError);\r\n        if(showShipping){\r\n            succeed = handleShippingError(shippingAddress,shippingError,setShippingError);\r\n        }\r\n        if(!succeed){\r\n            return;\r\n        }\r\n        if(!cartProducts.length){\r\n            console.log('no items in cart');\r\n            return;\r\n        }\r\n\r\n        //only proceed if there is no error in above functions\r\n        axios.post('/makepayment',{cartProducts,billingAddress,shippingAddress,user,showShipping,code:couponCode,saveDetails})\r\n            .then(res =>{\r\n                if(res.data.mismatch){\r\n                    //if cart items don't match then update cart(stock is less than required or item doesn't exist)\r\n                    getProducts();\r\n                    setShowAlert(true);\r\n                    return;\r\n                }\r\n                 if(res.status !==200){\r\n                    return;\r\n                } \r\n                const options = {\r\n                \"key\": \"rzp_test_qlKfA8K3Z1aaLP\", //put this in .env file\r\n                \"amount\": res.data.amount, \r\n                \"currency\": \"INR\",\r\n                \"name\": \"bakhsh\",\r\n                \"timeout\": 600,\r\n                \"description\": \"payment for beans\",\r\n                // \"image\": \"https://example.com/your_logo\",\r\n                \"order_id\": res.data.id, \r\n                \"handler\": function (response){\r\n                    axios.post('/verify',{order_id:res.data.id,payment_id:response.razorpay_payment_id,payment_sign:response.razorpay_signature})\r\n                        .then(res => {\r\n                            if(res.data.success){\r\n                                setOrderAlert(alert => {\r\n                                    return({...alert,show:true,id:response.razorpay_payment_id,email: user.email})\r\n                                })\r\n                            }\r\n                        })\r\n                        .catch(err => console.log(err));\r\n                },\r\n                \"modal\": {\r\n                    \"escape\": false,\r\n                    \"ondismiss\": function(){\r\n                        axios.delete('/deleteorder',{data:{order_id:res.data.id}})\r\n                        // .then(res => console.log(res.data))\r\n                        .catch(err => console.log(err));\r\n                     }\r\n                },\r\n                \"prefill\": {\r\n                    \"name\": user.name,\r\n                    \"email\": user.email,\r\n                    \"contact\": billingAddress.billingcontact\r\n                },\r\n                \"theme\": {\r\n                    \"color\": \"#1d1c19\"\r\n                }\r\n            };\r\n            var rzp1 = new window.Razorpay(options);\r\n            rzp1.open();\r\n            rzp1.on('payment.failed', function (response){\r\n                    alert('payment failed');\r\n            });\r\n        })\r\n        .catch(err => console.log(err));\r\n        \r\n    }\r\n    \r\n    return <CheckoutContext.Provider \r\n    value={\r\n        {\r\n            shippingAddress,\r\n            setShippingAddress,\r\n            handleShippingAddress,\r\n            billingAddress,\r\n            setBillingAddress,\r\n            handleBillingAddress,\r\n            showShipping,\r\n            showShippingAddress,\r\n            hideShippingAddress,\r\n            billingError,\r\n            makePayment,\r\n            shippingError,\r\n            hideOrderAlert,\r\n            user,\r\n            orderAlert,\r\n            saveDetails,\r\n            setSaveDetails,\r\n            userError,\r\n            setUserError,\r\n            handleUserDetails,\r\n            showAlert,\r\n            setShowAlert,\r\n            handleShippingState,\r\n            handleBillingState\r\n        }}>\r\n        {children}\r\n    </CheckoutContext.Provider>\r\n}\r\n\r\nexport const useCheckoutContext = () =>{\r\n    return useContext(CheckoutContext);\r\n}","import React,{useEffect,useRef} from 'react'\r\nimport './product.css';\r\nimport { Link } from 'react-router-dom';\r\nimport {formatPrice} from '../../utils/formatPrice';\r\n\r\nconst Product = ({img,name,price,stock,_id}) => {\r\n    const productRef = useRef(null);\r\n    useEffect(()=>{\r\n        const productObserver = new IntersectionObserver((entries,productObserver)=>{\r\n            entries.forEach(entry=>{\r\n                if(entry.isIntersecting){\r\n                    productRef.current.classList.toggle('visible');\r\n                    productObserver.disconnect();\r\n                }\r\n            })\r\n        },{threshold: 0.2})\r\n        productObserver.observe(productRef.current);\r\n    },[])\r\n    \r\n    return (\r\n        <Link to={`/shop/${_id}`} ref={productRef} className=\"product\">\r\n            <article className=\"product__content\">\r\n                <div className=\"product__img__container\">\r\n                    <img className=\"product__img\" src={`https://sbcoffeecompany.herokuapp.com/${img[0]}`} alt={name}/>\r\n                    {!stock?<div className=\"product__outofstock\"><p>out of stock</p></div>:null}\r\n                </div>\r\n                <div className=\"product__info\">\r\n                    <h1 className=\"product__name\">{name}</h1>\r\n                    <h2 className=\"product__price\">PRICE: {formatPrice(price)}</h2>\r\n                </div>\r\n            </article>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {FaFacebookSquare,FaInstagramSquare,FaTwitterSquare} from \"react-icons/fa\";\r\nimport './footer.css';\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n                <div className=\"footer__center center\">\r\n                    \r\n                    <div className=\"footer__legal footer-col\">\r\n                        <span className=\"legal__head head\">legal</span>\r\n                        <div className=\"legal__links\">\r\n                            <Link to=\"/termsandconditions\">terms and conditions</Link>\r\n                            <div>\r\n                                <Link to=\"/privacypolicy\">privacy policy</Link>\r\n                                <Link to=\"/cookiepolicy\">cookie policy</Link>\r\n                            </div>\r\n                                <span>all right reserved &#169;</span>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"footer__contact footer-col\">\r\n                        <span className=\"contact__head head\">contact</span>\r\n                        <div className=\"contact__info\">\r\n                                    <span className=\"contact__detail__info\"> H 8, Opposite NDPL Office, Vijay Nagar, New Delhi</span>\r\n                                    <span className=\"contact__detail__info\">Ph: +911 11111111</span>\r\n                                    <span className=\"contact__detail__info contact__email\">sardarjibaksh@gmail.com</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"footer__social footer-col\">\r\n                        <span className=\"social__head head\">follow us on</span>\r\n                        <div className=\"social__info\">\r\n                            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.instagram.com/sardarjibakhshcoffee/?hl=en\"><FaInstagramSquare/> <span>instagram</span> </a>\r\n                            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.facebook.com/sardarjibakhshcoffee/\"><FaFacebookSquare/> <span>facebook</span> </a>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React, {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { useGlobalContext } from '../../context';\r\nimport './navbar.css';\r\nimport axios from 'axios';\r\nimport Logo from '../../assets/images/logo.png';\r\nconst Navbar = () => {\r\n    const {setFilterName,setLogout,setCart,isLoggedIn,setShowLoginModal} = useGlobalContext();\r\n    const [openMenu,setOpenMenu] = useState(false);\r\n    \r\n    //logging out user\r\n    const handleLogout = () =>{\r\n        axios('/user/logout')\r\n            .then(res =>{\r\n                setLogout();\r\n                //emptying cart   \r\n                setCart([]);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <nav className=\"nav\">\r\n            <div className=\"nav__center center\">\r\n                <a href=\"/\" className=\"nav__logo\"><img src={Logo} alt=\"\"/></a>\r\n                \r\n                <ul onClick={()=>setOpenMenu(false)} className={`${openMenu?'nav__links open':'nav__links'}`}>\r\n                    <li>\r\n                        <Link to=\"/shop\" onClick={()=>setFilterName('none')} >shop</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/findastore\">find a store</Link>\r\n                    </li>\r\n                    <li className=\"gallery__link\">\r\n                        <Link to=\"/video-gallery\">gallery</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/about\">about</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/cart\">cart</Link>\r\n                    </li>\r\n                    {isLoggedIn?\r\n                        <>\r\n                            <li>\r\n                                <Link to = '/account'>account</Link>\r\n                            </li>\r\n                            <li>\r\n                                <a onClick={handleLogout}>log out</a>\r\n                            </li>\r\n                        </>\r\n                    :\r\n                        <li>\r\n                            <a onClick={setShowLoginModal}>Login</a>\r\n                        </li>\r\n                    }\r\n                </ul>\r\n            <div onClick={()=>setOpenMenu(!openMenu)} className={`${openMenu?'nav__hamburger open': 'nav__hamburger'}`}>\r\n                <span className=\"nav__ham__bar\"></span>\r\n            </div>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","export default \"data:image/png;base64,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\"","import React,{useEffect,useState,useRef} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { useGlobalContext } from '../../context';\r\nimport {GrPrevious,GrNext} from \"react-icons/gr\";\r\nimport Product from '../../components/product';\r\nimport Footer from '../../components/footer';\r\nimport {stores} from '../../data.js';\r\nimport Facebook from '../../assets/images/facebook.png';\r\nimport Instagram from '../../assets/images/instagram.png';\r\nimport Gmail from '../../assets/images/gmail.png';\r\nimport axios from 'axios';\r\nimport './home.css';\r\n\r\nconst Home = () => {\r\n\r\n    const {featuredProducts,setFilterName} = useGlobalContext();\r\n    const productsRef = useRef(null)\r\n    \r\n    //slider - about us\r\n    const [currentImage,setCurrentImage] = useState(0);\r\n    const sliderRef = useRef(null);\r\n\r\n    //subscription widget\r\n    const [alert,setAlert] = useState({show:false,msg:'could not save email',type:''})\r\n    const [subEmail,setSubEmail]= useState('');\r\n\r\n    //showing cup when it enters viewport\r\n    useEffect(()=>{\r\n        const sliderObserver = new IntersectionObserver((entries,sliderObserver)=>{\r\n            entries.forEach(entry=>{\r\n                if(entry.isIntersecting){\r\n                    sliderRef.current.classList.add('visible');\r\n                }else{\r\n                    if(sliderRef.current){//it was becoming null \r\n                        sliderRef.current.classList.remove('visible');\r\n                    }\r\n                }\r\n            })\r\n        },{threshold: 0.5})\r\n        sliderObserver.observe(sliderRef.current);\r\n    },[]);\r\n\r\n    //changing slider image\r\n    useEffect(()=>{\r\n        let x = setInterval(()=>{setCurrentImage(currentImage+1)},8000);\r\n        return()=>{\r\n            clearInterval(x);\r\n        }\r\n    });\r\n\r\n    useEffect(()=>{\r\n        if(currentImage > stores.length-1){\r\n            setCurrentImage(0);\r\n        }\r\n    },[currentImage]);\r\n\r\n    //saving subscription email\r\n    const saveEmail = () =>{\r\n        setAlert(alert => {return({...alert,show:false ,msg:''})});\r\n        axios.post('/subscribe',{email:subEmail})\r\n            .then(res =>{\r\n                if(res.data.success){\r\n                    setAlert(alert => {return({...alert,show:true ,msg:'your subscription was successful',type: 'success'})});\r\n\r\n                }\r\n                if(res.data.error){\r\n                    setAlert(alert => {return({...alert,show:true ,msg:res.data.error,type: 'error'})});\r\n                }\r\n            })\r\n            .catch(err =>{\r\n                console.log('an error occurred');\r\n            })\r\n    }\r\n    return (\r\n        <div className=\"home\">\r\n            <section className=\"home__hero\">\r\n                <div className=\"hero__img\"></div>\r\n            </section>\r\n\r\n            <section className=\"home__slider slider\">\r\n                <div className=\"slider__cup\">\r\n                    <div className=\"cup__wrapper\">\r\n                        <div ref={sliderRef} className=\"cup__img \"></div>\r\n                        <div className=\"btn-wrapper\">\r\n                            <Link className=\"btn__locate\" to=\"/findastore\">find a store</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {featuredProducts.length?<div className=\"slider__hidden\">\r\n                    <div className=\"center\">\r\n                        <div className=\"slider__head__wrapper\">\r\n                            <h1 className=\"slider__head\">featured products</h1>\r\n                            <Link onClick={()=>setFilterName('featured')} className=\"btn-shopall\" to=\"/shop\">see all</Link>\r\n                        </div>\r\n                            <div>\r\n                                <div className=\"slider__wrapper\">\r\n                                    <span onClick={()=>{productsRef.current.scrollLeft -=250}} className=\"prev button__effect\"><GrPrevious/></span>\r\n                                        <div ref={productsRef} className=\"slider__products \">\r\n                                            {featuredProducts.length ? featuredProducts.map(product =>{\r\n                                                return <Product key={product._id} {...product}></Product>\r\n                                            }):null}\r\n                                        </div>\r\n                                    <span onClick={()=>{productsRef.current.scrollLeft +=250}} className=\"next button__effect\"><GrNext/></span>\r\n                                </div>\r\n                            </div>\r\n\r\n                    </div>\r\n                </div>:null}\r\n            </section>\r\n            \r\n            <section className=\"home__stores\">\r\n                <div className=\"stores__center center\">\r\n                    \r\n                    <div className=\"stores__text\">\r\n                        <div className=\"text__middle\">\r\n                            <h1>about us</h1>\r\n                            <p>Sardar-Ji-Bakhsh, founded in 2015 as SardarBuksh Coffee & Coffee, is an Indian specialty coffee brand that aims to cater to every Indian coffee drinkers taste.</p>\r\n                            <div className=\"about__btn__wrapper\">\r\n                                <Link className=\"btn__general\" to=\"/about\">know more</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"stores__images\">\r\n                            <div className=\"stores__slider__wrapper\">\r\n                                {stores.length > 0? stores.map((store,index)=>{\r\n                                    let slideClass = 'next-slide'; \r\n                                    if(index === currentImage){\r\n                                        slideClass = 'active-slide';\r\n                                    }\r\n                                    if(index === currentImage-1 || ((currentImage === 0) && (index === stores.length-1))){//the second condition means if the index is 0 and we are currently on last slide in the array we are going to make it the lastSlide\r\n                                        slideClass = 'last-slide';\r\n                                    }\r\n                                    return (\r\n                                    <div key={index} className={`store__slider__img ${slideClass}`}>\r\n                                        <img src={store} alt=\"\"/>\r\n                                    </div>\r\n                                    )\r\n                                }):null}\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"home__subscribe\">\r\n                <div className=\"home__subscribe__form center\">\r\n                    <div className=\"subscribe__letter\">\r\n                        <h1>subscribe to our newsletter</h1>\r\n                        <div className=\"subscribe__email\">\r\n                            <div className=\"sub__input\">\r\n                                    <input value={subEmail} onChange={e=>{setSubEmail(e.target.value)}} type=\"text\"/>\r\n                                    <button className=\"sub__btn\" onClick={saveEmail}>subscribe</button>\r\n                                    {alert.show?<span className={`${alert.type==='success'?'sub__error success':'sub__error'}`}>{ alert.msg}</span>:null} \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"home__logo__display\">\r\n                <div className=\"logo__img\"></div>\r\n                <div className=\"home__logo__socials\">\r\n                    <h1>\r\n                        Follow us\r\n                    </h1>\r\n                    <a href=\"_blank\" href=\"https://www.facebook.com/sardarjibakhshcoffee/\" target=\"_blank\"> <img src={Facebook} alt=\"\"/></a>\r\n                    <a href=\"\" target=\"_blank\"> <img src={Gmail} alt=\"\"/></a>\r\n                    <a href=\"https://www.instagram.com/sardarjibakhshcoffee/?hl=en\" target=\"_blank\">  <img src={Instagram} alt=\"\"/></a>\r\n                </div>\r\n            </section>\r\n\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAApJJREFUSIm1ls9LVFEUx7/nzHuZptFCIyVJlzEGEYS0NJyxbUGMg4sZHc2iTYgg/gcjQe2nyVGEkaFw5aLBUWgXgQtBl4FIiygrSMepmffOaTE/cvK9GSz97u653/f93Hvfvfc9Qg35RmPdanGQVPuE2MuKVgAQwi6rbIGwxmospueHt90yyKk4EEp0CVkzINwH2NHzR6IKTsGypjIL4zt1Af6R+JBtU4wZTU5xpuHBhfNnwSVuNlfAfvYXBJIl8FgmEVl0BfSH45NE9NQpuONiCx4P3cINbwc8zJX66/QmYqn3h60TK4nI83Kj4vSPxIfcwk3Dg+jkHdy8drkq3EXP/OHZQBVgIJTosm2KuT1x/Wo7LrW2VNWyuTy+/8jhIJc/4lfVuD882wkABgAIWTNM7LjmANDeVh2+9u4DorG37nNgNCs0CmCIfaOx7uJucZfhqV6WT7v7tewAABEM9o3ErxhqcZCIHLeiYTBMjweGUQ0wPIzGBhMAULBtWJYcnQSDWSlAvtCLFTD3OwEeBXtx1+etOdK5pXUklzdcejXNQlw7oY4+f8vW6NUeLh//fwZ8dX8fArSRL/QyD4ZZK+Sez4uHwd5KO7m8gbml9bpwgeRZCLvHGPCxxMAXZpWt0wIAtMkgrJ1ePlaZ1VgERE86WwSiBTvF6fnhbQWnThoAaDKzML5TPKKWNSWQWhv6eNGCPdOUaaB0m2YWxncIPHZSACKNvIk/+FgBAEDpSzTxv+Gq+mRlbvRVBfa3wR+eDahqHIzmcq2xwcS5pjMVz8HPPA5yhepgwR6RRg6HOwJKkE4ljYpgkBk1P2EiEECTpinT5WWpCyireJ9TANDbgPYI0AYUTyhAmyCsasFOOf1NlPUbuAXyaWjlWQwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAESklEQVRIiZ1VW0xUVxRd+9yBoRShUhEYRIsoYKAarU1EEkLTNH3IXCiFRGA0TZP2pySNhloaI53QmtrHTx/aNDZNikhNb9qCDO0PUYFak8ZEHjYRH1gR7gAFYSogd5h7dj94xIGZgbg+z957rb129jmHsAz6y4vWCeHLB4sMQK4FKAygARD3KqbFFV//c2+oegoW0MvUXAgcBUQ8gCYCd0qwG4KYmBKJOZMBOwgPCKhOONX4OwG8rMBwSUmUafWeZFCaZBxKOt1wLlDhPNzl9meZ6DOAJk0jfF+ypt0LKtC3V7VZLNQMcFPiph1OcjplKPvzYID08sIKIn7blKY9ud51Y4mA/pY9ElOilZm/STp99vuVEC+G7igsBPiTGenbtaG+eQwAxEJ0ir5k4PyjkgOAra6hgcDfhQvLD34OBvar20nSmTEj/OlMTfPqr7+WEfPxp6mIjg66BH6YMuBxVumJx+uuzDop+BMCR5JqG1ssAECSqgl0JFPTvHdL1a3wejsnT3x9PaqyygpF2RCSXMrBiZMnRjDmydJL89WkH11NbtD7LPkogBbx7xvqKgDZ94ywBgBQgK0A4Lt1M81zoCLOdLsvBePmsfHLnncPWH1Xu7MMn0+/PTJqA4CEuoZWAPF9e1WbmPGK5wE+l6lpXr/qjC2dbBiR952Hs6ebmy4CmH4oOmO0XmjzVB3cyRP3V48+sfqP7n531Ojkg5i5uTMYzUqYeNlCjFQmurqkveIiH6BcoeNfJU43/pIz09nRG3WoCgCFTX7x+YSvpyfXtEaM97z4yjVjeCiGO7qimWlhaVhQF5jTLUywgagj4AxWPb4d71V5qNl1yWxvz/7vYIVBLExpTCePp2y6fGd3znoGdmF4qHtxqSJpSJLME4F4/eZMiOH8/GxUVl6UJIwZaeL6S3va/9mds5OBtcHqJNgLCKuFIAfBFL+cEOLickT1B+4bf1/rmWLkLZdOkIkMcVcwRC+DspYVAMBCJG7O2pK35snYNgBGyFyIdCLuFRFGWAuBX+CSEsU/gwNeMiLCuqSE3PS0jf1CKD3BLXABQf4mYjXNw0CXbjX2zHnrW4mbxyIiUrMy0zbGREedB2j2tSU5BAC6w74DgJFwqum2BQCkEDVCym/Z6XSR09nmduQ/xyMjNkTHRM73PSf+kCtJgoCUlGTc6b01PsIwdK+leTamHANQ49eR7ij8SS8vOLyS7kPB7SjYrzvUCzz3zi2saYQR9iYIZXp5wauPSq6XqbkMOH0+lM1/UgsCsZrmURRSQTimO9R3OMR3GpC8vNABQbWALF5/5qw+f76ERC+1r4EiNAJMU1LluvqGwLd8DgMONZ1AH4GQApJFttomvyUJ2CUDNLhPLWZQDRgeBn4lcCcx9QEACZkgIbYBsIPxFAMf2ozwWtI0czFXyDEwQANlhdsUYpWJMwBKAqAQoZ+Bm0JKV/zmZ/4K9Xf/D+hPym7aGcNqAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFN0lEQVRIiYWWXYxdVRmGn2/tvc85+8w+Z+bMTNt0pk6HNtBKgQZRLjUERds6raFgsL0oKCEmJtAb/y5U5laMoUQTVCq9qFWTiejUNhSSBnuBUUuMxoKEdNpOOAMzzN/5mfO391qfF/t0YGpL183+uVjPft/3+761hY9Z53lqRAn3WqLdlnCrJTdkCXFkZ5TgohKcBn/yC4xN32gPud7Ld9i1ScmPdyg+mhCZhIiEHiwhlhwpJIOSwRE4xRzzMT+8n7HyTQHvs21fh97jMb1RQpGYIingYyEopi54Bx/gy5M3BFQInkzoe7ZDSWL6iOmF4VFcNIj1C1ivC7AZkiQgrns0y8lHIQr+4S+y57n/s2VlW35ffTCrNQJd2nC7No5Pql2o6M1WZ6Gl7x2/pOc2TOorvKRn+JN7hT/vXaOgsat/E8udt3TRRZgBwtfOQy6k8cIE7X9NE1eVxOZIkmxqjZ/HeXmkGJHfuZENj9+Oa1n+dtertGYtiqn7mO33M1b2AbxBN+48EwEE338GwhzNuz9D++IiHUpctevaTDQq0b5SZeb5C9x9/mFu++md/OfgP3AEUQLjwOOm+XRphF7vUSl5yIDB+9wD2IljaOUyGZbJsETAMgEVskMB4ZCPTx2fOsPfvoc7Xvsq4ZDP7NE36f/SRoQOhhjBPfYqJ0d8L8zu1T5rBJDSRqRYwr17ARnwAMjMLxPs/jz5nz+DNzoMQHx5jplvnaBy4nUAWm9coTlaJOjfSTjk05zpYMA4dMxIkd1SNNBnkMFCGoypI/0GGfDwH9lN4dQJtFymcui7LB4ax5Y/YPOpw4RbI+Z+9EekvoSr1gEIIouh01WS7PEpmq2CAwzkgjT6vCIDBoDsT45g//5XWp+9D+uKdCixcvxl1p17gaGfHaC+5XsAeLYJgO/HeKT3DrYYCWWIgkEKghRSgOQcUvIwtw4jw5uxf/g10s+HmbhFGr+cILhl/WomJllJQX4HjxYeTQydYV/yBnAoBsl0+y4SpNeASVXQY9ZkAuDR6F5rBMQYWt3n5qoCACOhmZG8QfICoaYKegLoM+Dm0Plp/IceQwZ9ZMBDBg0ZU6Xnif3YS+9iZqbwqRL47RSQ1PFZuQoq+2S5KMhtYFBju1/sIUWDAnbiO/jf/B3ZX50hmXgRVhzeg1/Hu/deansOENBV5KUKTJKWcHdN+ZLjtCK7BEC70opFpCCAwZXPkjz/CN5DPybzg18AoOUrtL72FeT0aTL0pdVTTO316vP4JN0xIad8Am8StUdAjLRnIV7GrNuBLRiuVpcrn8WNfwrMenTZ4d4po4sutaubSXbnCG6hAjOXCSgCuARz0siOqWnx5BhZICuw9Bdk9ACybpTV6ur2CW4OdA4ZMKt9IoOG3NZ+8t/YT/vlcwRU0kyovvhpjkynzry9aZi291+1RLhB5M4zIFn08m9xH1yAahUaFq3HsOLQlgcNQV2E2bQDb/8haLao3HUfrdmEmL56k2j7Ns5+eADphdF9+u9R5/65Wd0b96jOvqTaWbrpuHaVRY1P/l5XPvkJrRHoAuvc+2xbO64/AnkSy7NqVWgDbUXdejQOoe1B06AritZiWO6g8zXcVBldcOiiQxes6rw7XCB+7rqAFHLLXqz7jVqiVUhT0YZDGwo1h9YUrTpYdmjFoUsWXXB1XXQHe95urDkyzbUA2XFpkqzdLsYcJYsjK0gorDbjNcFLr3FSMkcZsNuv3fy6Ctaq2TJCx45pmz20dIu2dLirpEzNTWmNU7bRPhk+vXTD35b/AUnZpIpgRCf0AAAAAElFTkSuQmCC\"","import React,{useState,useRef} from 'react';\r\nimport './login.css';\r\nimport { useGlobalContext } from '../../context';\r\nimport axios from 'axios';\r\nimport {GrClose} from \"react-icons/gr\";\r\nimport {BiLoaderAlt} from \"react-icons/bi\";\r\n\r\nconst Login = () => {\r\n    const {setCart,cart,setLogin,showLogin,setHideLoginModal}= useGlobalContext();\r\n    const [authType,setAuthType] = useState('login');\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const [username,setUsername] = useState('');\r\n    const [error,setError] = useState({email: '',password:'',username:''});\r\n    const [showForgot,setShowForgot] = useState(false);\r\n    const [forgotMessage,setForgotMessage] = useState('');\r\n    const spinnerRef = useRef(null)\r\n    \r\n    //email-setting state and removing whitespace\r\n    const handleEmail = (e) =>{ \r\n        setEmail( e.target.value.trim());\r\n        setError({email: '',password:'',username:''})\r\n    }\r\n\r\n\r\n    //authentication request\r\n    const handleAuth = (e) =>{\r\n        e.preventDefault();\r\n        setEmail(email => {return email.replaceAll(\" \",\"\")});\r\n        setError({email: '',password:'',username:''});\r\n       \r\n        //basic validation\r\n        if(email===''){\r\n            setError(error => {return({...error,email: 'please enter an email'})});\r\n            return;\r\n        }\r\n        if(password === ''){\r\n            setError(error => {return({...error,password: 'please enter a password'})});\r\n            return;\r\n        }\r\n\r\n        spinnerRef.current.classList.add('show');\r\n        //sending request\r\n        axios.post(`/user/${authType}`,{email,password,username})\r\n        .then(res=>{ \r\n            if(spinnerRef.current) spinnerRef.current.classList.remove('show');\r\n            if(res.data.errors){\r\n                setError({email:res.data.errors.email,password: res.data.errors.password, username: res.data.errors.username});\r\n            }\r\n            if(res.data.success){\r\n                setHideLoginModal();\r\n                //user logged in - merging cart and updating the frontend cart with merged cart\r\n                axios.post('/user/mergecart',{cart})\r\n                .then(res => {\r\n                    if(res.data.cart){                      \r\n                        setCart(res.data.cart);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));   \r\n                //setting login state - credentials are valid\r\n                setLogin();\r\n            }\r\n        })\r\n        .catch(() =>{\r\n                if(spinnerRef.current) spinnerRef.current.classList.remove('show');\r\n                setError(error => {return({...error,password: 'an error occurred'})});\r\n        });\r\n    }\r\n\r\n    //forgot password action\r\n    const forgotPassword = () =>{\r\n        let msg = 'A password reset link has been sent to your email';\r\n        //validation for email\r\n        if(email === ''){\r\n            setError(error => {return({...error,email: 'please enter your email'})});\r\n            return;\r\n        }\r\n        \r\n        //sending request\r\n        spinnerRef.current.classList.add('show');\r\n        axios.post('/user/forgotpassword',{email})\r\n        .then(res =>{\r\n            if(res.data.success){\r\n                if(spinnerRef.current) spinnerRef.current.classList.remove('show');\r\n                    setForgotMessage(msg);\r\n                    setShowForgot(true);\r\n            }\r\n            if(res.data.error){\r\n                if(spinnerRef.current) spinnerRef.current.classList.remove('show');\r\n                setForgotMessage(res.data.error);\r\n                setShowForgot(true);\r\n            }\r\n        })\r\n        .catch(err => console.log('an error occurred'));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {showLogin === true?\r\n                <div className=\"auth_wrapper\" onClick={()=>{setHideLoginModal();setShowForgot(false)}}>\r\n                <div className=\"auth\" onClick={e=>e.stopPropagation()}>\r\n                    <div className=\"auth__close\" onClick={()=>{setHideLoginModal();setShowForgot(false)}}><GrClose/></div>\r\n                    {showForgot?\r\n                        <div className=\"auth__forgot\">\r\n                            <p>{forgotMessage}</p>\r\n                        </div>\r\n                        :<>\r\n                            <div className=\"auth__headers\">\r\n                                <h1>{`${authType==='login'?'log in': 'sign up'}`}</h1>\r\n                            </div>\r\n\r\n                            <div className=\"auth__form__wrapper\">\r\n                                <form className=\"auth__form\" onSubmit={handleAuth}>\r\n                                    {authType==='signup'?<div className=\"auth__field\">\r\n                                        <input value={username} onChange={e=>{setUsername(e.target.value);setError({email: '',password:'',username: ''})}} autoComplete=\"off\" type=\"text\" id=\"username\" placeholder=\"Username\"/>\r\n                                        <p className=\"auth__error\">{error.username}</p>\r\n                                    </div>\r\n                                    :null}\r\n                                    <div className=\"auth__field\">\r\n                                        <input value={email} onChange={handleEmail} autoComplete=\"off\" type=\"text\" id=\"email\" placeholder=\"Email\"/>\r\n                                        <p className=\"auth__error\">{error.email}</p>\r\n                                    </div>\r\n                                    <div className=\"auth__field\">\r\n                                        <input value={password} onChange={e=>{setPassword(e.target.value);setError({email: '',password:'',username: ''})}} autoComplete=\"off\"  type=\"password\" placeholder=\"Password\"/>\r\n                                        <p className=\"auth__error\">{error.password}</p>\r\n                                    </div>\r\n                                    <button type=\"submit\">{`${authType==='signup'?'sign up': 'login'}`}</button>\r\n                                </form>\r\n\r\n                                {authType==='login'?\r\n                                    <div className=\"auth__toggle\">\r\n                                        <span > <button onClick={()=>setAuthType('signup')}>create an account</button> | <button onClick={forgotPassword}>forgot password?</button></span>\r\n                                    </div>\r\n                                :\r\n                                    <div className=\"auth__toggle\">\r\n                                        <span> <button onClick={()=>setAuthType('login')}>already have an account?</button></span>\r\n                                    </div>\r\n                                }\r\n                                <div className=\"auth__spinner\" ref={spinnerRef}><BiLoaderAlt /></div>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </div>\r\n            </div>\r\n            :null}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\nimport './error.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"error\">\r\n            <div className=\"error__wrapper center\">\r\n                <div className=\"error__info\">\r\n                    <h1>page</h1>\r\n                    <h1>not </h1>\r\n                    <h1>found</h1>\r\n                </div>      \r\n                <Link className=\"error__btn btn\" to=\"/\">Back To Home</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;\r\n","import { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst ScrollToTop = ({ history }) =>{\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  }, []);\r\n\r\n  return (null);\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React,{Suspense , lazy} from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Navbar from './pages/Navbar';\nimport Home from './pages/Home';\nimport Loader from './components/loader';\nimport Login from './components/login';\nimport Error from './pages/Error';\nimport ScrollToTop from './components/scrollToTop';\nconst Gallery = lazy(()=>import('./pages/Gallery'));\nconst Cart = lazy(()=> import('./pages/Cart'));\nconst About = lazy(()=> import('./pages/About'));\nconst Location = lazy(()=> import('./pages/Location'));\nconst Checkout = lazy(()=> import('./pages/Checkout'));\nconst SingleProduct = lazy(()=> import('./pages/SingleProduct'));\nconst Account = lazy(()=> import('./pages/Account'));\nconst Forgot = lazy(()=> import('./pages/Forgot'));\nconst Shop = lazy(()=> import('./pages/Shop'));\n// import Shop from './pages/Shop';\n// import SingleProduct from './pages/SingleProduct';\n// import Account from './pages/Account';\n// import Forgot from './pages/Forgot';\n// import Cart from './pages/Cart';\n// import About from './pages/About';\n// import Location from './pages/Location';\n// import Checkout from './pages/Checkout';\n// import Gallery from './pages/Gallery';\n\nconst App = () => {\n  return (\n    <Router>\n      <ScrollToTop />\n      <Navbar></Navbar>\n      <Login></Login>\n          <Switch>\n              <Route path=\"/\" exact>\n                <Home/>\n              </Route>\n\n\n            <Suspense fallback={<Loader/>}>\n              \n                <Route path=\"/shop\" exact>\n                  <Shop/>\n                </Route>\n\n                <Route path=\"/about\" exact>\n                  <About/>\n                </Route>\n\n                <Route path=\"/video-gallery\" exact>\n                  <Gallery/>\n                </Route>\n                \n                <Route path=\"/cart\" exact>\n                  <Cart/>\n                </Route>\n\n                <Route path=\"/checkout\" exact>\n                  <Checkout/>\n                </Route>\n\n                <Route path=\"/findastore\" exact>\n                  <Location/>\n                </Route>\n\n                <Route path=\"/shop/:id\" children={<SingleProduct/>} exact></Route>\n                \n                <Route path=\"/reset-password/:id/:token\" children={<Forgot/>} exact></Route>\n                \n                <Route path=\"/account\" exact>\n                  <Account/>\n                </Route>\n            </Suspense>\n\n              <Route path=\"*\">\n                <Error/>\n              </Route>\n          </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  // useEffect(()=>{\n  //   axios.get('/blog')\n  //     .then(res => console.log(res.data))\n  //     .catch(err => console.log(err));\n  // });\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {AppProvider} from './context';\nimport { AddressProvider } from './addressContext';\nimport {CheckoutProvider} from './checkoutContext';\nimport {CartProvider} from './cartContext';\nimport App from './App';\nimport axios from 'axios';\naxios.defaults.baseURL = 'https://sbcoffeecompany.herokuapp.com';\naxios.defaults.withCredentials = true\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <CartProvider>\n        <AddressProvider>\n          <CheckoutProvider>\n            <App />\n          </CheckoutProvider>\n        </AddressProvider>\n      </CartProvider>\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","import React, {useEffect,useReducer,useContext} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst getLocalStorage = () =>{\r\n    let cart = localStorage.getItem('cart');\r\n    if(cart){\r\n        return JSON.parse(cart);\r\n    }else{\r\n        return [];\r\n    }  \r\n}\r\n\r\nconst reducer = (oldState,action) =>{\r\n    if(action.type==='SET_PRODUCTS'){\r\n        return({...oldState,products: action.payload});\r\n    }\r\n    if(action.type === 'SET_FILTER'){\r\n        return({...oldState,filterName: action.payload});\r\n    }\r\n    if(action.type === 'SET_FEATURED'){\r\n        return({...oldState,featuredProducts: action.payload});\r\n    }\r\n    if(action.type === 'SET_CART_ITEM'){\r\n        return({...oldState,cart: action.payload});\r\n    }\r\n    if(action.type === 'SET_CART'){\r\n        return({...oldState,cart: action.payload});\r\n    }\r\n    if(action.type === 'UPDATE_CART_ITEM'){\r\n        return({...oldState,cart: action.payload});\r\n    }\r\n    if(action.type === 'REMOVE_CART_ITEM'){\r\n        return({...oldState,cart: action.payload});\r\n    }\r\n    if(action.type==='SHOW_LOGIN'){\r\n        return({...oldState,showLogin: true});\r\n    }\r\n    if(action.type==='HIDE_LOGIN'){\r\n        return({...oldState,showLogin: false});\r\n    }\r\n    if(action.type === 'LOGIN'){\r\n        return({...oldState,isLoggedIn: true});\r\n    }\r\n    if(action.type === 'LOGOUT'){\r\n        return({...oldState,isLoggedIn: false});\r\n    }\r\n    if(action.type === 'SET_VIDEO'){\r\n        return({...oldState,videos: action.payload})\r\n    }\r\n    if(action.type === 'SET_PRODUCT_ERROR'){\r\n        return({...oldState,productError: action.payload})\r\n    }\r\n    if(action.type === 'SET_PRODUCT_LOADING'){\r\n        return({...oldState,productLoading: action.payload})\r\n    }\r\n    if(action.type === 'SET_GALLERY_ERROR'){\r\n        return({...oldState,galleryError: action.payload})\r\n    }\r\n    if(action.type === 'SET_GALLERY_LOADING'){\r\n        return({...oldState,galleryLoading: action.payload})\r\n    }\r\n    throw new Error('invalid dispatch');\r\n}\r\n\r\nconst defaultState = {\r\n    products: [],\r\n    cart: getLocalStorage(),\r\n    filter: 'none',\r\n    productError: false,\r\n    productLoading: true,\r\n    galleryError: false,\r\n    galleryLoading: true,\r\n    filterName: 'none',\r\n    isLoggedIn: false,\r\n    featuredProducts: [],\r\n    showLoginModal: false,\r\n    videos: []\r\n}\r\nexport const AppProvider = ({children}) =>{\r\n    const [state,dispatch] = useReducer(reducer,defaultState);\r\n    \r\n    const setProducts = (products) =>{\r\n        dispatch({type: 'SET_PRODUCTS',payload: products});\r\n    }\r\n    const setFilterName = (name) =>{\r\n        dispatch({type: 'SET_FILTER',payload: name});\r\n    }\r\n    const setShowLoginModal = () =>{\r\n        dispatch({type: 'SHOW_LOGIN'});\r\n    }\r\n    const setHideLoginModal = () =>{\r\n        dispatch({type: 'HIDE_LOGIN'});\r\n    }\r\n    const setLogin = () =>{\r\n        dispatch({type: 'LOGIN'});\r\n    }\r\n    const setLogout = () =>{\r\n        dispatch({type: 'LOGOUT'});\r\n    }\r\n    const setProductLoading = (value) =>{\r\n        dispatch({type: 'SET_PRODUCT_LOADING',payload: value});\r\n    }\r\n    const setProductError = (value) =>{\r\n        dispatch({type: 'SET_PRODUCT_ERROR',payload: value});\r\n    }\r\n    const setGalleryLoading = (value) =>{\r\n        dispatch({type: 'SET_GALLERY_LOADING',payload: value});\r\n    }\r\n    const setGalleryError = (value) =>{\r\n        dispatch({type: 'SET_GALLERY_ERROR',payload: value});\r\n    }\r\n    const setCart = (newCart) =>{\r\n        dispatch({type: 'SET_CART',payload: newCart})\r\n    }\r\n    const setVideos = (videos) =>{\r\n        dispatch({type: 'SET_VIDEO',payload:videos});\r\n    }\r\n\r\n    //adding item in cart\r\n    const addCartItem = (productId,pqty) =>{\r\n        let alreadyExists = false;\r\n        let newCart = [];\r\n        if(state.cart.length){\r\n            newCart = state.cart.map(cartItem=>{\r\n                if(cartItem.productId === productId){//if the item already exists only update qty\r\n                    cartItem.pqty +=pqty;\r\n                    alreadyExists = true;\r\n                }\r\n                return cartItem;\r\n            })\r\n        }\r\n        if(!alreadyExists){//if it doesn't exist then add it to the cart \r\n            \r\n            //if cart has something copy it\r\n            if(state.cart.length){\r\n                newCart = [...newCart,{productId,pqty}];\r\n            }\r\n            //if cart is empty just push the item\r\n            else{\r\n                newCart = [{productId,pqty}];\r\n            }\r\n        }\r\n        dispatch({type: 'SET_CART_ITEM',payload: newCart});\r\n    }\r\n    \r\n    //updates purchase quantity of already existing cart item\r\n    const updateCartItem = (pqty,_id) =>{\r\n        let updatedCart = state.cart.map(item =>{\r\n            if(item.productId === _id){\r\n                item.pqty = pqty;\r\n            }\r\n            return item;\r\n        })\r\n        dispatch({type: 'UPDATE_CART_ITEM',payload: updatedCart});\r\n    }\r\n\r\n    //removes item from cart\r\n    const removeCartItem = (_id) =>{\r\n        let newCart = state.cart.filter(item => item.productId !== _id);\r\n        dispatch({type: 'REMOVE_CART_ITEM',payload: newCart});\r\n    }\r\n\r\n    //checking if user is logged in on mount - refresh or initial load\r\n    useEffect(()=>{\r\n        axios('/user/status')\r\n            .then(res =>{\r\n                if(res.data.error) return;\r\n                if(res.data.success) setLogin();\r\n            })\r\n            .catch(err => console.log(err));\r\n    },[]);\r\n \r\n    //anytime logged in status changes change localStorage\r\n    useEffect(()=>{\r\n        if(state.isLoggedIn){\r\n            localStorage.setItem('status',true);\r\n        }else{\r\n            localStorage.setItem('status',false);\r\n        }\r\n    },[state.isLoggedIn]);\r\n\r\n    //every time cart changes save it in local storage\r\n    useEffect(()=>{\r\n            localStorage.setItem('cart',JSON.stringify(state.cart));\r\n            //save it in db if user is logged in\r\n            if(state.isLoggedIn){\r\n                axios.post('/user/cart',{cart:state.cart})\r\n                    .catch(err => console.log(err));\r\n            }        \r\n    },[state.cart])\r\n   \r\n   \r\n    //cart might also change on mount or refresh - replace frontend cart with db cart if user is logged in and page is refreshed \r\n    useEffect(()=>{\r\n        let status = localStorage.getItem('status');\r\n        if(status){\r\n            axios.get('/user/cart')\r\n                .then(res => {\r\n                    if(res.data.cart){\r\n                        setCart(res.data.cart);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n    },[]);\r\n\r\n    //fetches the products\r\n    const getProducts = () =>{\r\n        setProductLoading(true);\r\n        setProductError(false);\r\n        axios('/product')\r\n        .then(res=>{\r\n            if(res.data.product){\r\n                setProducts(res.data.product);\r\n                setProductLoading(false);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            setProductError(true);\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        getProducts();\r\n    },[]);\r\n\r\n     //fetches the videos\r\n     useEffect(()=>{\r\n        setGalleryError(false);\r\n        setGalleryLoading(true);\r\n        axios('/gallery')\r\n            .then(res =>{\r\n                if(res.data.videos){\r\n                    setVideos(res.data.videos);\r\n                    setGalleryLoading(false);\r\n                }\r\n                \r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setGalleryError(true);\r\n            });\r\n    },[]);\r\n\r\n    //extracts featured products from all products\r\n    useEffect(()=>{\r\n        if(state.products){\r\n            let featured = state.products.filter(product=>product.featured === true);\r\n            dispatch({type:'SET_FEATURED',payload: featured})\r\n        }\r\n    },[state.products]);\r\n\r\n    return <AppContext.Provider value={{\r\n            ...state,\r\n            setShowLoginModal,\r\n            setLogin,\r\n            setCart,\r\n            setLogout,\r\n            setHideLoginModal,\r\n            addCartItem,\r\n            updateCartItem,\r\n            removeCartItem,\r\n            setFilterName,\r\n            setProducts,\r\n            getProducts\r\n        }}>\r\n        {children}\r\n    </AppContext.Provider>\r\n}\r\nexport const useGlobalContext = () =>{\r\n    return useContext(AppContext);\r\n}\r\n"],"sourceRoot":""}