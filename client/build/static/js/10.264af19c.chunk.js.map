{"version":3,"sources":["pages/Shop/index.js","components/error/index.js"],"names":["Shop","useGlobalContext","products","productError","productLoading","filterName","setFilterName","useState","showFilters","setShowFilters","filteredProducts","setFilteredProducts","setFilter","name","useEffect","newProducts","filter","product","category","featured","length","className","onClick","e","stopPropagation","map","_id","Error"],"mappings":"qNAqEeA,UA7DF,WAAO,IAAD,EACyDC,cAAjEC,EADQ,EACRA,SAASC,EADD,EACCA,aAAaC,EADd,EACcA,eAAeC,EAD7B,EAC6BA,WAAWC,EADxC,EACwCA,cADxC,EAEsBC,oBAAS,GAF/B,mBAERC,EAFQ,KAEIC,EAFJ,OAGgCF,oBAAS,GAHzC,mBAGRG,EAHQ,KAGSC,EAHT,KAITC,EAAY,SAACC,GACfP,EAAcO,GACdJ,GAAe,IAiBnB,OAfAK,qBAAU,WACN,GAAkB,SAAfT,EAIH,GAAkB,aAAfA,EAAH,CAKA,IAAIU,EAAcb,EAASc,QAAO,SAAAC,GAAO,OAAGA,EAAQC,WAAab,KACjEM,EAAoBI,OANpB,CACI,IAAIA,EAAcb,EAASc,QAAO,SAAAC,GAAO,OAAwB,IAArBA,EAAQE,YACpDR,EAAoBI,QALpBJ,EAAoBT,KAW1B,CAACG,EAAWH,IAEXE,EACQ,cAAC,IAAD,IAERD,EACQ,cAAC,IAAD,IAGP,mCACKO,EAAiBU,OACd,sBAAKC,UAAU,OAAOC,QAAS,kBAAIb,GAAe,IAAlD,UACQ,sBAAKY,UAAU,sBAAf,UACI,sBAAMA,UAAS,UAAkB,SAAbhB,EAAoB,0BAA0B,kCAClE,sBAAMgB,UAAU,8BAA8BC,QAAS,SAACC,GAAKA,EAAEC,kBAAkBf,GAAgBD,IAAjG,SAAgH,cAAC,IAAD,MAChH,sBAAKa,UAAS,UAAKb,EAAY,uBAAwB,mBAAvD,UACI,sBAAMc,QAAS,kBAAIV,EAAU,SAA7B,kBACA,sBAAMS,UAAS,UAAkB,aAAbhB,EAAwB,SAAS,MAAQiB,QAAS,kBAAIV,EAAU,aAApF,sBACA,sBAAMS,UAAS,UAAkB,WAAbhB,EAAsB,SAAS,MAAQiB,QAAS,kBAAIV,EAAU,WAAlF,oBACA,sBAAMS,UAAS,UAAkB,sBAAbhB,EAAiC,SAAS,MAAQiB,QAAS,kBAAIV,EAAU,sBAA7F,+BACA,sBAAMS,UAAS,UAAkB,kBAAbhB,EAA6B,SAAS,MAAQiB,QAAS,kBAAIV,EAAU,kBAAzF,8BAEJ,qBAAKS,UAAU,8BAEvB,qBAAKA,UAAU,sBAAf,SACKX,EAAiBe,KAAI,SAAAR,GAClB,OAAO,cAAC,IAAD,eAA+BA,GAAjBA,EAAQS,aAIzC,qBAAKL,UAAU,aAAf,SACI,qBAAKA,UAAU,6BAAf,SACI,uE,gCC7DxB,sBAWeM,IARD,WACV,OACI,qBAAKN,UAAU,eAAf,SACI,uD","file":"static/js/10.264af19c.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport { useGlobalContext } from '../../context';\r\nimport './shop.css';\r\nimport Product from '../../components/product';\r\nimport {AiFillFilter} from \"react-icons/ai\";\r\nimport Loader from '../../components/loader';\r\nimport Error from '../../components/error';\r\n\r\nconst Shop = () => {\r\n    const {products,productError,productLoading,filterName,setFilterName} = useGlobalContext();\r\n    const [showFilters,setShowFilters] = useState(false);\r\n    const [filteredProducts,setFilteredProducts] = useState(false);\r\n    const setFilter = (name) =>{\r\n        setFilterName(name);\r\n        setShowFilters(false);\r\n    }\r\n    useEffect(()=>{\r\n        if(filterName === 'none'){\r\n            setFilteredProducts(products);\r\n            return;\r\n        }\r\n        if(filterName === 'featured'){\r\n            let newProducts = products.filter(product =>product.featured === true);\r\n            setFilteredProducts(newProducts);\r\n            return;\r\n        }\r\n        let newProducts = products.filter(product =>product.category === filterName);\r\n        setFilteredProducts(newProducts);\r\n\r\n    },[filterName,products])\r\n\r\n    if(productLoading){\r\n        return <Loader/>\r\n    }\r\n    if(productError){\r\n        return <Error/>\r\n    }\r\n    return (\r\n        <>\r\n            {filteredProducts.length?\r\n                <div className=\"shop\" onClick={()=>setShowFilters(false)}>\r\n                        <div className=\"shop__filter center\">\r\n                            <span className={`${filterName==='none'?'shop__filter__indicator':'shop__filter__indicator show'}`}></span>\r\n                            <span className=\"filter__icon button__effect\" onClick={(e)=>{e.stopPropagation();setShowFilters(!showFilters)}}><AiFillFilter/></span>\r\n                            <div className={`${showFilters?'filter__options show': 'filter__options'}`}>\r\n                                <span onClick={()=>setFilter('none')}>none</span>\r\n                                <span className={`${filterName==='featured'?'active':null}`} onClick={()=>setFilter('featured')}>featured</span>\r\n                                <span className={`${filterName==='coffee'?'active':null}`} onClick={()=>setFilter('coffee')}>coffee</span>\r\n                                <span className={`${filterName==='brewing equipment'?'active':null}`} onClick={()=>setFilter('brewing equipment')}>brewing equipment</span>\r\n                                <span className={`${filterName==='accompaniment'?'active':null}`} onClick={()=>setFilter('accompaniment')}>accompaniment</span>\r\n                            </div>\r\n                            <div className=\"filter__click__handler\"></div>\r\n                        </div>\r\n                    <div className=\"shop__center center\">\r\n                        {filteredProducts.map(product=>{\r\n                            return <Product key={product._id} {...product}></Product>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            :   <div className=\"shop-empty\">\r\n                    <div className=\"shop__empty__center center\">\r\n                        <h1>There are no items to display</h1>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Shop\r\n","import React from 'react';\r\nimport './error.css';\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"fetch__error\">\r\n            <h1>an error occurred</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n"],"sourceRoot":""}