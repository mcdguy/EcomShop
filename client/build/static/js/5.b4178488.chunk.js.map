{"version":3,"sources":["pages/Cart/index.js","components/error/index.js","components/cartSummary/index.js","components/cartItem/index.js","components/cartComponent/index.js"],"names":["Cart","useGlobalContext","cart","productError","productLoading","cartProducts","useCartContext","length","className","source","Error","CartSummary","discountAmount","cartTotalItems","cartTotalAmount","formatPrice","to","CartItem","img","name","price","pqty","_id","stock","updateCartItem","removeCartItem","useState","quantity","setQuantity","decreaseQuantity","increaseQuantity","useEffect","src","alt","onClick","CartComponent","map","item"],"mappings":"4HAAA,+EAiDeA,UAxCF,WAAO,IAAD,EAC4BC,cAApCC,EADQ,EACRA,KAAKC,EADG,EACHA,aAAaC,EADV,EACUA,eAClBC,EAAgBC,cAAhBD,aAEP,OAAGD,EACQ,cAAC,IAAD,IAERD,EACQ,cAAC,IAAD,IAGPD,EAAKK,QAQLF,EAAaE,OASb,qBAAKC,UAAU,OAAf,SACI,qBAAKA,UAAU,sBAAf,SACQ,sBAAKA,UAAU,gBAAf,UACI,cAAC,IAAD,CAAeC,OAAQ,SACvB,cAAC,IAAD,CAAaA,OAAQ,gBAnBjC,qBAAKD,UAAU,cAAf,SACI,8D,gCCvBhB,sBAWeE,IARD,WACV,OACI,qBAAKF,UAAU,eAAf,SACI,uD,+FCNZ,+CAqCeG,IA/BK,SAAC,GAAc,IAAbF,EAAY,EAAZA,OAAY,EAC0BH,cAAjDM,EADuB,EACvBA,eAAeC,EADQ,EACRA,eAAeC,EADP,EACOA,gBACrC,OACI,sBAAKN,UAAU,gBAAf,UACI,+CACA,sBAAKA,UAAU,sBAAf,UACI,sBAAKA,UAAU,yBAAf,UACI,sCACA,4BAAIK,OAER,sBAAKL,UAAU,yBAAf,UACI,0CACA,4BAAIO,YAAYH,EAAiBE,QAErC,sBAAKN,UAAU,yBAAf,UACI,yCACA,qCAAQO,YAAYH,SAExB,sBAAKJ,UAAU,8CAAf,UACI,6CACA,4BAAIO,YAAYD,WAGd,SAATL,EACG,cAAC,IAAD,CAAMO,GAAG,YAAYR,UAAU,eAA/B,sBACC,U,2ICoCFS,EA3DE,SAAC,GAAkD,IAAjDC,EAAgD,EAAhDA,IAAIC,EAA4C,EAA5CA,KAAKC,EAAuC,EAAvCA,MAAMC,EAAiC,EAAjCA,KAAKC,EAA4B,EAA5BA,IAAIjB,EAAwB,EAAxBA,aAAakB,EAAW,EAAXA,MAAW,EACvBtB,cAAjCuB,EADwD,EACxDA,eAAeC,EADyC,EACzCA,eADyC,EAEhCC,mBAAS,GAFuB,mBAExDC,EAFwD,KAE/CC,EAF+C,KAsBzDC,EAAmB,WAEL,IAAbF,GAGHC,GAAY,SAAAD,GAAa,OAAOA,EAAS,MAEvCG,EAAmB,WAEjBF,EADDD,GAAYJ,EACCA,EAGJ,SAAAI,GAAa,OAAOA,EAAS,KAkB7C,OAhBAI,qBAAU,WAGFH,EADDP,EAAKE,EACQA,EAGJF,KACd,CAAChB,IAEH0B,qBAAU,WAEHJ,EAAS,GACRH,EAAeG,EAASL,KAE9B,CAACK,IAGC,mCAhDI,sBAAKnB,UAAU,aAAf,UACI,cAAC,IAAD,CAAMQ,GAAE,gBAAWM,GAAnB,SACI,qBAAKU,IAAG,gDAA2Cd,EAAI,IAAMe,IAAI,OAErE,sBAAKzB,UAAU,mBAAf,UACI,mBAAGA,UAAU,mBAAb,SAAiCW,IACjC,mBAAGX,UAAU,oBAAb,SAAkCO,YAAYK,KAC9C,uBAAMZ,UAAU,kBAAhB,UACQ,sBAAMA,UAAU,+BAA+B0B,QAASL,EAAxD,SAA0E,cAAC,IAAD,MAC1E,+BAAOF,IACP,sBAAMnB,UAAU,+BAA+B0B,QAASJ,EAAxD,SAA0E,cAAC,IAAD,YAGtF,yBAAQtB,UAAU,qBAAqB0B,QAAS,kBAAIT,EAAeH,IAAnE,UAAyE,cAAC,IAAD,IAAU,sBAAMd,UAAU,sBAAhB,6B,QCRpF2B,IAbO,SAAC,GAAc,IAAb1B,EAAY,EAAZA,OACbJ,EAAgBC,cAAhBD,aACP,OACI,qBAAKG,UAAU,iBAAf,SACMH,EAAaE,OAASF,EAAa+B,KAAI,SAAAC,GACjC,OACI,cAAC,EAAD,aAAyB5B,OAAQA,EAAQJ,aAAcA,GAAkBgC,GAA1DA,EAAKf,QAEzB","file":"static/js/5.b4178488.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useGlobalContext } from '../../context';\r\nimport CartComponent from '../../components/cartComponent';\r\nimport './cart.css';\r\nimport { useCartContext } from '../../cartContext';\r\nimport CartSummary from '../../components/cartSummary';\r\nimport Loader from '../../components/loader';\r\nimport Error from '../../components/error';\r\n\r\nconst Cart = () => {\r\n    const {cart,productError,productLoading} = useGlobalContext();\r\n    const {cartProducts} = useCartContext();\r\n    \r\n    if(productLoading){\r\n        return <Loader/>\r\n    }\r\n    if(productError){\r\n        return <Error/>\r\n    }\r\n\r\n    if(!cart.length){\r\n        return(\r\n            <div className=\"cart__empty\">\r\n                <p>There is nothing in cart </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if(!cartProducts.length){\r\n        return(\r\n            <div className=\"cart__empty\">\r\n                <p>There is nothing in cart </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"cart\">\r\n            <div className=\"cart__center center\">\r\n                    <div className=\"cart__content\">\r\n                        <CartComponent source={'cart'}/>\r\n                        <CartSummary source={'cart'}/>\r\n                    </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react';\r\nimport './error.css';\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"fetch__error\">\r\n            <h1>an error occurred</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","import React from 'react';\r\nimport { useCartContext } from '../../cartContext';\r\nimport './cartSummary.css';\r\nimport { Link } from 'react-router-dom';\r\nimport {formatPrice} from '../../utils/formatPrice';\r\n\r\nconst CartSummary = ({source}) => {\r\n    const {discountAmount,cartTotalItems,cartTotalAmount} = useCartContext();\r\n    return (\r\n        <div className=\"cart__summary\">\r\n            <h1>order summary</h1>\r\n            <div className=\"cart__summary__info\">\r\n                <div className=\"cart__summary__details\">\r\n                    <p>items</p>\r\n                    <p>{cartTotalItems}</p>\r\n                </div>\r\n                <div className=\"cart__summary__details\">\r\n                    <p>sub total</p>\r\n                    <p>{formatPrice(discountAmount + cartTotalAmount)}</p>\r\n                </div>\r\n                <div className=\"cart__summary__details\">\r\n                    <p>discount</p>\r\n                    <p>(-) {formatPrice(discountAmount)}</p>\r\n                </div>\r\n                <div className=\"cart__summary__details cart__summary__total\">\r\n                    <p>total amount</p>\r\n                    <p>{formatPrice(cartTotalAmount)}</p>\r\n                </div>\r\n            </div>\r\n            {source==='cart'?\r\n                <Link to='/checkout' className=\"btn__general\">checkout</Link>\r\n                :null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartSummary\r\n","import React,{useState,useEffect} from 'react';\r\nimport { useGlobalContext } from '../../context';\r\nimport './cartItem.css';\r\nimport {GrClose} from \"react-icons/gr\";\r\nimport {BiMinus,BiPlus} from \"react-icons/bi\";\r\nimport { Link } from 'react-router-dom';\r\nimport {formatPrice} from '../../utils/formatPrice';\r\n\r\nconst CartItem = ({img,name,price,pqty,_id,cartProducts,stock}) => {\r\n    const {updateCartItem,removeCartItem} = useGlobalContext();\r\n    const [quantity,setQuantity] = useState(0);\r\n    const cartItem = () =>{\r\n        return (\r\n            <div className=\"cart__item\">\r\n                <Link to={`/shop/${_id}`}>\r\n                    <img src={`https://sbcoffeecompany.herokuapp.com/${img[0]}`} alt=\"\"/>\r\n                </Link>\r\n                <div className=\"cart__item__info\">\r\n                    <p className=\"cart__item__name\">{name}</p>\r\n                    <p className=\"cart__item__price\">{formatPrice(price)}</p>\r\n                    <span className=\"cart__item__qty\">\r\n                            <span className='cart__item__qty__inc control' onClick={decreaseQuantity}><BiMinus/></span>     \r\n                            <span>{quantity}</span>     \r\n                            <span className='cart__item__qty__dec control' onClick={increaseQuantity}><BiPlus/></span>\r\n                    </span>\r\n                </div>\r\n                <button className=\"cart__item__remove\" onClick={()=>removeCartItem(_id)}><GrClose/><span className=\"cart__item__tooltip\">remove</span></button>\r\n            </div>\r\n        );\r\n    }\r\n    const decreaseQuantity = () =>{\r\n        //quantity can't be 0\r\n        if(quantity === 1){\r\n            return;\r\n        }\r\n        setQuantity(quantity => {return(quantity-1)});\r\n    }\r\n    const increaseQuantity = () =>{\r\n        if(quantity >= stock){\r\n            setQuantity(stock);\r\n            return;\r\n        }\r\n        setQuantity(quantity => {return(quantity+1)})\r\n    }\r\n    useEffect(()=>{\r\n        //checking at the time of initializing that if the quantity is less than the purchase quantity\r\n        if(pqty>stock){\r\n            setQuantity(stock);\r\n            return;\r\n        }\r\n        setQuantity(pqty);\r\n    },[cartProducts]);\r\n\r\n    useEffect(()=>{\r\n        //without this quantity will become 0 because of initial value of quantity\r\n        if(quantity>0){\r\n            updateCartItem(quantity,_id);\r\n        }\r\n    },[quantity]);\r\n\r\n    return (\r\n        <>\r\n            {cartItem()}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport './cartComponent.css';\r\nimport CartItem from '../cartItem';\r\nimport { useCartContext } from '../../cartContext';\r\n\r\nconst CartComponent = ({source}) => {\r\n    const {cartProducts} = useCartContext();\r\n    return (\r\n        <div className=\"cart__products\">\r\n             {cartProducts.length ? cartProducts.map(item=>{\r\n                    return(\r\n                        <CartItem key={item._id} source={source} cartProducts={cartProducts} {...item}/>//passing cart products to make it a dependency in useEffect\r\n                    )\r\n                }):null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartComponent\r\n"],"sourceRoot":""}