(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{108:function(e,s,t){},109:function(e,s,t){},125:function(e,s,t){"use strict";t.r(s);var c=t(15),a=t(3),r=t(4),d=t(2),n=t(20),i=t(12),l=(t(108),t(5)),j=t.n(l),_=(t(109),t(7)),o=t(88),b=t(1),u=function(){var e=Object(i.b)().isLoggedIn,s=Object(d.useState)([]),t=Object(r.a)(s,2),c=t[0],a=t[1],n=Object(d.useState)(!0),l=Object(r.a)(n,2),u=l[0],h=l[1];return Object(d.useEffect)((function(){h(!0),e&&j.a.get("/user/orders").then((function(e){e.data.orders&&(a(e.data.orders),h(!1))}))}),[e]),u?Object(b.jsx)("div",{className:"order__loader",children:Object(b.jsx)("div",{className:"loader__spinner"})}):c.length?Object(b.jsx)("div",{className:"orders",children:c.map((function(e){return Object(b.jsxs)("div",{className:"single__order",children:[Object(b.jsxs)("h1",{children:[" ",Object(b.jsx)("span",{children:"order id :"})," ",e.orderId]}),Object(b.jsxs)("h1",{children:[" ",Object(b.jsx)("span",{children:"total : "})," ",Object(o.a)(e.amount)]}),e.order.map((function(e,s){return Object(b.jsxs)("div",{className:"order__item",children:[Object(b.jsx)(_.b,{to:"/shop/".concat(e.itemId),children:Object(b.jsx)("img",{src:"https://sbcoffeecompany.herokuapp.com/".concat(e.img),alt:""})}),Object(b.jsx)("span",{children:e.name}),Object(b.jsx)("span",{children:Object(o.a)(e.price)}),Object(b.jsx)("span",{children:e.pqty})]},s)}))]},e.orderId)}))}):Object(b.jsx)("p",{className:"no__orders center",children:"All your orders will be displayed here"})},h=t(27),O=t(86),x=t(28);s.default=function(){var e=Object(n.b)(),s=e.address,t=e.setAddress,l=e.saveAddress,j=e.error,_=e.setError,o=e.editMode,m=e.setEditMode,p=e.isLoading,v=e.loadingError,N=Object(i.b)().isLoggedIn,f=Object(d.useRef)(null),y=Object(d.useRef)(null),g=Object(d.useRef)(null),L=Object(d.useRef)(null),F=Object(d.useRef)(null),C=Object(d.useState)(!1),k=Object(r.a)(C,2),I=k[0],w=k[1],R=function(e){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})})),t(Object(a.a)(Object(a.a)({},s),{},Object(c.a)({},e.target.name,e.target.value)))},V=function(){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})}))};return N?p?Object(b.jsx)(h.a,{}):v?Object(b.jsx)(O.a,{}):s.exists?Object(b.jsxs)("div",{className:"account",children:[Object(b.jsxs)("div",{className:"address__center center",children:[Object(b.jsx)("div",{className:"address__header",children:s.email&&Object(b.jsxs)("p",{children:[" ",s.email]})}),Object(b.jsxs)("div",{className:"address__details",children:[o?Object(b.jsx)("div",{className:"account__address__edit",children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"address__text__head",htmlFor:"addressLine",children:"street line: "}),Object(b.jsx)("input",{className:"address__input",ref:F,onFocus:V,type:"text",defaultValue:s.addressLine,name:"addressLine",placeholder:"street address"}),Object(b.jsx)("div",{className:"address__input__error",children:j.addressLine})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"address__text__head",htmlFor:"state",children:"state: "}),Object(b.jsx)("input",{ref:f,onFocus:V,defaultValue:s.state,name:"state",type:"text",placeholder:"state"}),Object(b.jsx)("div",{className:"address__input__error",children:j.state})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"address__text__head",htmlFor:"city",children:"city: "}),Object(b.jsx)("input",{ref:y,onFocus:V,defaultValue:s.city,name:"city",type:"text",placeholder:"city"}),Object(b.jsx)("div",{className:"address__input__error",children:j.city})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"address__text__head",htmlFor:"pin",children:"pin: "}),Object(b.jsx)("input",{ref:g,onFocus:V,defaultValue:s.pin,name:"pin",type:"number",placeholder:"pin"}),Object(b.jsx)("div",{className:"address__input__error",children:j.pin})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"address__text__head",htmlFor:"contact",children:"contact: "}),Object(b.jsx)("input",{ref:L,onFocus:V,defaultValue:s.contact,name:"contact",type:"number",placeholder:"contact"}),Object(b.jsx)("div",{className:"address__input__error",children:j.contact})]})]})}):Object(b.jsxs)("div",{className:"account__address__text",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"address__text__head",children:"street line: "}),Object(b.jsx)("div",{className:"address__text__desc",children:s.addressLine})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"address__text__head",children:"state: "}),Object(b.jsx)("div",{className:"address__text__desc",children:s.state})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"address__text__head",children:"city: "}),Object(b.jsx)("div",{className:"address__text__desc",children:s.city})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"address__text__head",children:"pin: "}),Object(b.jsx)("div",{className:"address__text__desc",children:s.pin})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"address__text__head",children:"contact: "}),Object(b.jsx)("div",{className:"address__text__desc",children:s.contact})]})]}),Object(b.jsx)("div",{children:o?Object(b.jsxs)("div",{className:"edit__address__wrapper",children:[Object(b.jsx)("button",{className:"cancel__edit__btn btn__general",onClick:function(){return m(!1)},children:"cancel"}),Object(b.jsx)("button",{className:"save__edit__btn btn__general",onClick:function(){_((function(e){return Object(a.a)(Object(a.a)({},e),{},{addressLine:"",state:"",city:"",contact:"",pin:""})})),l({addressLine:F.current.value,state:f.current.value,city:y.current.value,pin:g.current.value,contact:L.current.value})},children:"save"})]}):Object(b.jsx)("div",{className:"edit__address__wrapper",children:Object(b.jsx)("button",{className:"edit__address__btn btn__general",onClick:function(){return m(!0)},children:"edit"})})})]}),Object(b.jsx)("h1",{className:"order__head",children:"previous orders"}),Object(b.jsx)(u,{})]}),Object(b.jsx)(x.a,{})]}):Object(b.jsxs)("div",{className:"address__save",children:[Object(b.jsxs)("div",{className:"address__center center",children:[Object(b.jsx)("div",{className:"address__header",children:s.email&&Object(b.jsxs)("p",{children:[" ",s.email]})}),I?null:Object(b.jsxs)("div",{className:"save__address__prompt",children:[Object(b.jsx)("span",{children:"you have no saved addresses"}),Object(b.jsx)("button",{className:"btn__general",onClick:function(){return w(!0)},children:"add address"})]}),I?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{className:"address__form",children:[Object(b.jsx)("input",{type:"text",value:s.addressLine,onChange:R,name:"addressLine",placeholder:"street address"}),Object(b.jsx)("div",{className:"address__input__error",children:j.addressLine}),Object(b.jsxs)("div",{className:"address__form__row",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{value:s.state,onChange:R,name:"state",type:"text",placeholder:"state"}),Object(b.jsx)("div",{className:"address__input__error",children:j.state})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{value:s.city,onChange:R,name:"city",type:"text",placeholder:"city"}),Object(b.jsx)("div",{className:"address__input__error",children:j.city})]})]}),Object(b.jsx)("input",{value:s.pin,onChange:R,name:"pin",type:"number",placeholder:"pin"}),Object(b.jsx)("div",{className:"address__input__error",children:j.pin}),Object(b.jsx)("input",{value:s.contact,onChange:R,name:"contact",type:"number",placeholder:"contact"}),Object(b.jsx)("div",{className:"address__input__error",children:j.contact}),Object(b.jsx)("div",{className:"btn-wrapper",children:Object(b.jsx)("span",{className:"btn__general",onClick:function(e){e.preventDefault(),l(s)},children:"save address"})})]})}):null,Object(b.jsx)("h1",{className:"order__head",children:"previous orders"}),Object(b.jsx)(u,{})]}),Object(b.jsx)(x.a,{})]}):Object(b.jsx)("div",{className:"account__notLogged",children:"You must log in first"})}},86:function(e,s,t){"use strict";t(2),t(87);var c=t(1);s.a=function(){return Object(c.jsx)("div",{className:"fetch__error",children:Object(c.jsx)("h1",{children:"an error occurred"})})}},87:function(e,s,t){},88:function(e,s,t){"use strict";t.d(s,"a",(function(){return c}));var c=function(e){return Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e/100).replace(/\.00$/,"")}}}]);
//# sourceMappingURL=7.9187f061.chunk.js.map